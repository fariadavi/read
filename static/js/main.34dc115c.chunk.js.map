{"version":3,"sources":["i18n.js","locale/en_US.js","locale/pt_BR.js","services/auth.js","services/api.js","contexts/AuthContext.js","contexts/UserContext.js","components/PrivateRoute.js","components/Login.js","services/lang.js","components/NavBar.js","components/utils/DatePicker.js","components/search/SearchBar.js","components/search/SearchResultTablePagination.js","components/utils/StatusBadge.js","components/search/SearchResultTable.js","components/search/Search.js","components/invalid/PageNotFound.js","components/categories/Categories.js","components/permissions/UserPermissions.js","components/documents/DocumentDetails.js","components/Home.js","components/App.js","index.js"],"names":["resources","translation","i18n","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","TOKEN_KEY","getLocalToken","localStorage","getItem","setLocalToken","token","setItem","rq","url","options","a","headers","Authorization","fetch","process","AuthContext","createContext","AuthProvider","children","useState","setToken","authLoading","setAuthLoading","handleAuthLogout","removeItem","handleAuthenticationFail","console","log","handleAuthentication","googleData","method","body","tokenId","res","ok","text","localToken","Provider","value","authenticated","UserContext","UserProvider","useContext","user","setUser","userLoading","setUserLoading","useEffect","setLoggedUserInfo","json","changeDepartment","deptId","id","JSON","stringify","currentDepartment","logoutUser","PrivateRoute","component","to","Login","t","useTranslation","Container","className","style","minHeight","clientId","buttonText","onSuccess","onFailure","cookiePolicy","LANG_KEY","NavBar","language","setLanguage","languageList","Object","keys","store","data","lang","changeLanguage","navigator","userLanguage","Navbar","fixed","bg","variant","expand","Brand","height","alt","src","margin","Nav","NavDropdown","title","icon","faFileAlt","faPlusCircle","faSearch","faCogs","faStream","faHouseUser","faUserPlus","faKey","Toggle","aria-controls","Collapse","firstName","surname","faUser","faLanguage","map","index","Item","onClick","langCode","acronym","faExchangeAlt","departments","dept","name","Link","faSignOutAlt","DatePicker","min","max","onChange","onClear","Form","Control","type","required","faTimesCircle","SearchBar","isSearching","onSearch","minDate","undefined","maxDate","category","myDocuments","filters","setFilters","categories","setCategories","expandedOptions","setExpandedOptions","then","cats","length","fullName","handleFilterChange","e","target","handleSubmit","preventDefault","filtersObj","trim","optFilters","window","alert","noValidate","onSubmit","width","maxWidth","Group","Row","InputGroup","Prepend","Text","disabled","onKeyPress","code","Label","as","display","item","Check","custom","label","Button","faAngleUp","faAngleDown","faCircleNotch","SearchResultTablePagination","numPages","activePage","paginationItems","setPaginationItems","items","minPagePagination","maxPagePagination","push","Pagination","First","Prev","pageNum","active","Next","Last","getStatusBadge","status","badgeVariant","Badge","toLowerCase","SearchResultTable","documents","currentPage","deleteDocument","getFileIcon","mediaType","faFilePdf","getDocumentFile","docId","fileName","isDownload","blob","blobUrl","URL","createObjectURL","anchor","document","createElement","download","href","click","open","revokeObjectURL","Table","striped","bordered","hover","faDownload","faEdit","faTrash","summary","fullCategoryHierarchy","formattedDate","registeredBy","Search","setSearching","isSearchSuccess","setSearchSuccess","docs","setDocs","currentQuery","setCurrentQuery","currentQueryString","setCurrentQueryString","setCurrentPage","pageSize","totalResults","setTotalResults","userSelect","queryString","filter","encodeURI","result","page","totalHits","results","catch","err","finally","Math","ceil","x","marginBottom","PageNotFound","Categories","UserPermissions","DocumentForm","useParams","redirect","setRedirect","validation","setValidation","initialDocumentValues","useMemo","date","Date","toISOString","split","file","setDocument","doc","size","validateField","localValidationObj","fieldValidation","match","handleDocChange","files","docName","replace","submitDocumentForm","docInfo","isEdit","formData","FormData","append","Blob","stopPropagation","validationObj","entries","forEach","i","values","every","tenant","registeredAt","Col","controlId","File","Input","isInvalid","data-browse","Feedback","xs","rows","justifyContent","marginLeft","DocumentDetails","useRouteMatch","path","Home","minWidth","exact","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.34dc115c.chunk.js","sourcesContent":["import i18n from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport enUS from './locale/en_US'\r\nimport ptBR from './locale/pt_BR'\r\n\r\nconst resources = {\r\n    'en-US': { translation: enUS },\r\n    'pt-BR': { translation: ptBR }\r\n};\r\n\r\ni18n\r\n    .use(initReactI18next)\r\n    .init({\r\n        resources,\r\n        lng: 'en-US',\r\n        keySeparator: false,\r\n        interpolation: { escapeValue: false }\r\n    });\r\n\r\nexport default i18n;","const enUS = {\r\n    'language': 'Language',\r\n    'language.en-US.shortName': 'English',\r\n    'language.en-US.fullName': 'American English',\r\n    'language.pt-BR.shortName': 'Portuguese',\r\n    'language.pt-BR.fullName': 'Brazilian Portuguese',\r\n    'document': 'Document',\r\n    'document_plural': 'Documents',\r\n    'document.title': 'Title',\r\n    'document.status': 'Status',\r\n    'document.summary': 'Summary',\r\n    'document.category': '$t(category)',\r\n    'document.registeredBy': 'Registered by',\r\n    'document.date': 'Document Date',\r\n    'document.add': 'Add New',\r\n    'document.search': 'Search',\r\n    'document.form.add.title': 'New Document',\r\n    'document.form.edit.title': 'Edit Document',\r\n    'document.form.summary.mutedText': 'A brief description of the document being uploaded.',\r\n    'document.form.category.choose': 'Choose a category...',\r\n    'document.form.category.zeroOptions': 'No categories on current department',\r\n    'document.form.file': 'File',\r\n    'document.form.file.choose': 'Choose file',\r\n    'document.form.file.placeholder': 'No file selected',\r\n    'document.form.deleteButton': 'Delete',\r\n    'document.form.updateButton': 'Update',\r\n    'document.form.submitButton': 'Submit',\r\n    'document.form.validation.fileRequired': 'You must attach a file',\r\n    'document.form.validation.invalidFileType': 'File selected does not have a valid type',\r\n    'document.form.validation.titleRequired': 'Title is required',\r\n    'document.form.validation.categoryRequired': 'You must select a category',\r\n    'management': 'Management',\r\n    'category': 'Category',\r\n    'category_plural': 'Categories',\r\n    'department': 'Department',\r\n    'department_plural': 'Departments',\r\n    'user': 'User',\r\n    'users_plural': 'Users',\r\n    'user.invite': 'Invite New Users',\r\n    'user.permissions': 'User Permissions',\r\n    'logout': 'Logout',\r\n    'loginWithGoogle.buttonText': 'Sign in with Google',\r\n    'table.actions': 'Actions',\r\n    'none': 'None',\r\n    'searchBar.filters.category': '$t(category)',\r\n    'searchBar.filters.date.from': 'Date from',\r\n    'searchBar.filters.date.until': 'until',\r\n    'searchBar.searchButton': 'Search Documents',\r\n    'searchBar.moreFiltersButton': 'More filters',\r\n    'searchBar.lessFiltersButton': 'Less filters',\r\n    'searchBar.filters.registeredByMe': 'Only documents registered by me',\r\n    'search.noResultFound.message.p1': 'No results found',\r\n    'search.noResultFound.message.p2': ' for ',\r\n    'search.noResultFound.message.p3': ' with the specified filters.',\r\n    'search.noResultFound.searchTips.title': 'Suggestions:',\r\n    'search.noResultFound.searchTips.item1': 'Make sure all words are spelled correctly.',\r\n    'search.noResultFound.searchTips.item2': 'Try using different/fewer keywords.',\r\n    'search.noResultFound.searchTips.item3': 'Make sure all the optional filters are correctly filled up.',\r\n    'search.noResultFound.searchTips.item4': 'Try removing the filters and re-add them gradually.',\r\n    'search.error': 'There was an error performing the requested search. Please try again later.',\r\n    'pageNotFound.title': '404',\r\n    'pageNotFound.subtitle': 'Oops! Seems like this webpage doesn\\'t exist...',\r\n    'pageNotFound.message': 'Either the link you have is broken or this page refers to a content that has been moved or deleted.',\r\n    'pageNotFound.home': 'Click here to go to the homepage',\r\n    'pageNotFound.contactUs': 'If you believe that should be something here, please contact system administration.'\r\n}\r\n\r\nexport default enUS;","const ptBR = {\r\n    'language': 'Linguagem',\r\n    'language.en-US.shortName': 'Inglês',\r\n    'language.en-US.fullName': 'Inglês Americano',\r\n    'language.pt-BR.shortName': 'Português',\r\n    'language.pt-BR.fullName': 'Português Brasileiro',\r\n    'document': 'Documento',\r\n    'document_plural': 'Documentos',\r\n    'document.title': 'Título',\r\n    'document.status': 'Status',\r\n    'document.summary': 'Resumo',\r\n    'document.category': '$t(category)',\r\n    'document.registeredBy': 'Cadastrado por',\r\n    'document.date': 'Data do Documento',\r\n    'document.add': 'Adicionar',\r\n    'document.search': 'Pesquisar',\r\n    'document.form.add.title': 'Novo Documento',\r\n    'document.form.edit.title': 'Editar Documento',\r\n    'document.form.summary.mutedText': 'Uma breve descrição do documento sendo enviado.',\r\n    'document.form.category.choose': 'Escolha uma categoria...',\r\n    'document.form.category.zeroOptions': 'Nenhuma categoria no departamento atual',\r\n    'document.form.file': 'Arquivo',\r\n    'document.form.file.choose': 'Escolha o arquivo',\r\n    'document.form.file.placeholder': 'Nenhum arquivo selecionado',\r\n    'document.form.deleteButton': 'Excluir',\r\n    'document.form.updateButton': 'Atualizar',\r\n    'document.form.submitButton': 'Enviar',\r\n    'document.form.validation.fileRequired': 'Deve anexar um arquivo',\r\n    'document.form.validation.invalidFileType': 'O tipo de arquivo enviado não é válido',\r\n    'document.form.validation.titleRequired': 'Titulo é obrigatório',\r\n    'document.form.validation.categoryRequired': 'Deve selecionar uma categoria',\r\n    'management': 'Gerenciamento',\r\n    'category': 'Categoria',\r\n    'category_plural': 'Categorias',\r\n    'department': 'Departmento',\r\n    'department_plural': 'Departmentos',\r\n    'user': 'Usuário',\r\n    'users_plural': 'Usuários',\r\n    'user.invite': 'Convidar Novo Usuário',\r\n    'user.permissions': 'Permissões de Usuário',\r\n    'logout': 'Sair',\r\n    'loginWithGoogle.buttonText': 'Entre com Google',\r\n    'table.actions': 'Ações',\r\n    'none': 'Nenhuma',\r\n    'searchBar.filters.category': '$t(category)',\r\n    'searchBar.filters.date.from': 'Data de',\r\n    'searchBar.filters.date.until': 'até',\r\n    'searchBar.searchButton': 'Pesquisar documentos',\r\n    'searchBar.moreFiltersButton': 'Mais filtros',\r\n    'searchBar.lessFiltersButton': 'Menos filtros',\r\n    'searchBar.filters.registeredByMe': 'Apenas documentos cadastrados por mim',\r\n    'search.noResultFound.message.p1': 'Nenhum resultado encontrado',\r\n    'search.noResultFound.message.p2': ' para ',\r\n    'search.noResultFound.message.p3': ' com os filtros especificados.',\r\n    'search.noResultFound.searchTips.title': 'Sugestões:',\r\n    'search.noResultFound.searchTips.item1': 'Certifique-se de que todas as palavras estão escritas corretamente.',\r\n    'search.noResultFound.searchTips.item2': 'Tente usar outras/menos palavras-chave.',\r\n    'search.noResultFound.searchTips.item3': 'Certifique-se de que todas os filtros opcionais estão preenchidos corretamente.',\r\n    'search.noResultFound.searchTips.item4': 'Tente remover os filtros e readicioná-los gradualmente.',\r\n    'search.error': 'Houve um erro realizando a busca desejada. Por favor, tente novamente mais tarde.',\r\n    'pageNotFound.title': '404',\r\n    'pageNotFound.subtitle': 'Oops! Parece que essa página não existe...',\r\n    'pageNotFound.message': 'O link que você possui está errado ou esta página se refere a um conteúdo que foi movido ou excluído.',\r\n    'pageNotFound.home': 'Clique aqui para voltar a página inicial',\r\n    'pageNotFound.contactUs': 'Se você acredita que deveria haver algo aqui, entre em contato com os administradores do sistema.'\r\n}\r\n\r\nexport default ptBR;","const TOKEN_KEY = \"@gedapp-auth-token\";\r\n\r\nexport const hasLocalToken = () => localStorage.getItem(TOKEN_KEY) !== null;\r\nexport const getLocalToken = () => localStorage.getItem(TOKEN_KEY);\r\nexport const setLocalToken = token => localStorage.setItem(TOKEN_KEY, token);\r\nexport const removeLocalToken = () => localStorage.removeItem(TOKEN_KEY);","import { getLocalToken } from \"./auth\";\r\n\r\nexport default async function rq(url, options) {\r\n    const token = getLocalToken();\r\n    \r\n    if (token) {\r\n        if (!options.headers)\r\n            options.headers = {}\r\n        options.headers.Authorization = `Bearer ${token}`\r\n    }\r\n\r\n    \r\n    return fetch(`${process.env.REACT_APP_SERVER_URL}${url}`, options)\r\n};","import React, { createContext, useState } from 'react';\r\nimport { getLocalToken, setLocalToken, removeLocalToken } from '../services/auth'\r\nimport rq from '../services/api.js'\r\n\r\nconst AuthContext = createContext();\r\n\r\nfunction AuthProvider({ children }) {\r\n    const [token, setToken] = useState(getLocalToken());\r\n    const [authLoading, setAuthLoading] = useState(false);\r\n\r\n\tconst handleAuthLogout = () => {\r\n\t\tsetAuthLoading(true);\r\n\r\n\t\tsetToken(null);\r\n\t\tremoveLocalToken();\r\n\r\n\t\tsetAuthLoading(false);\r\n\t}\r\n\r\n\tconst handleAuthenticationFail = () => {\r\n\t\tsetAuthLoading(true);\r\n\r\n\t\thandleAuthLogout();\r\n\r\n\t\t// TODO handle failure show error msg to user \r\n\t\tconsole.log('login failed');\r\n\t\t\r\n\t\tsetAuthLoading(false);\r\n\t}\r\n\r\n\tconst handleAuthentication = async googleData => {\r\n\t\tsetAuthLoading(true);\r\n\t\t\r\n\t\tconst res = await rq('/api/auth/google/login', {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n\t\t\tbody: googleData.tokenId\r\n\t\t})\r\n\r\n\t\tif (res.ok) {\r\n\t\t\tconst localToken = await res.text();\r\n\t\t\tsetLocalToken(localToken);\r\n\t\t\tsetToken(localToken);\r\n\t\t} else {\r\n\t\t\thandleAuthenticationFail();\r\n\t\t}\r\n\r\n\t\tsetAuthLoading(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ authenticated: token !== null, token, authLoading, handleAuthentication, handleAuthenticationFail, handleAuthLogout }}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n}\r\n\r\nexport { AuthContext, AuthProvider };","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport rq from '../services/api.js'\r\nimport { AuthContext } from '../contexts/AuthContext'\r\n\r\nconst UserContext = createContext();\r\n\r\nfunction UserProvider({ children }) {\r\n    const { token, handleAuthLogout } = useContext(AuthContext);\r\n    const [user, setUser] = useState();\r\n    const [userLoading, setUserLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!user && token)\r\n            setLoggedUserInfo();\r\n    }, [user, token]);\r\n\r\n    const setLoggedUserInfo = async () => {\r\n        setUserLoading(true);\r\n        \r\n        const res = await rq('/users/loggedUserInfo', { method: \"GET\" });\r\n        \r\n        if (res.ok)\r\n            setUser(await res.json());\r\n\r\n        setUserLoading(false);\r\n    }\r\n\r\n    const changeDepartment = async deptId => {\r\n        setUserLoading(true);\r\n\r\n        const res = await rq(`/users/${user.id}`, {\r\n            method: \"PATCH\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ currentDepartment: { id: deptId } })\r\n        });\r\n\r\n        if (res.ok)\r\n            setUser(await res.json());\r\n\r\n        setUserLoading(false);\r\n    }\r\n\r\n    const logoutUser = () => {\r\n        setUserLoading(true);\r\n\r\n        setUser(null);\r\n        handleAuthLogout();\r\n        \r\n        setUserLoading(false);\r\n    }\r\n\r\n    return (\r\n        <UserContext.Provider value={{ user, userLoading, setLoggedUserInfo, changeDepartment, logoutUser }}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nexport { UserContext, UserProvider };","import React, { useContext } from 'react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { AuthContext } from '../contexts/AuthContext'\r\nimport { UserContext } from '../contexts/UserContext'\r\n\r\nexport default function PrivateRoute({ component, ...options }) {\r\n    const { user, logoutUser } = useContext(UserContext);\r\n    const { token } = useContext(AuthContext);\r\n\r\n    if (!token) {\r\n        if (user)\r\n            logoutUser();\r\n        \r\n        return (<Redirect to=\"/login\" />);\r\n    }\r\n\r\n    if (!user)\r\n        return <h1>Loading User...</h1>; //TODO replace this with a spinner\r\n\r\n    return (<Route {...options} component={component} />);\r\n}","import React, { useContext } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport GoogleLogin from 'react-google-login'\r\nimport { Container } from 'react-bootstrap'\r\nimport { AuthContext } from '../contexts/AuthContext'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nexport default function Login() {\r\n    const { t } = useTranslation();\r\n    const { authLoading, authenticated, handleAuthentication, handleAuthenticationFail } = useContext(AuthContext);\r\n\r\n    if (authLoading)\r\n        return <h1>Loading...</h1>; //TODO replace this with a spinner\r\n\r\n    if (authenticated)\r\n        return (<Redirect to=\"/\" />)\r\n\r\n    return (\r\n        <Container\r\n            className=\"d-flex align-item justify-content-center\"\r\n            style={{ minHeight: \"100vh\" }}\r\n        >\r\n            <div className=\"d-flex flex-column align-item justify-content-center\">\r\n                <h1>UNIRIO GED App</h1>\r\n                <div className=\"d-flex align-item justify-content-center\">\r\n                    <GoogleLogin\r\n                        clientId={process.env.REACT_APP_GOOGLE_OAUTH_CLIENT_ID}\r\n                        buttonText={t('loginWithGoogle.buttonText')}\r\n                        onSuccess={handleAuthentication}\r\n                        onFailure={handleAuthenticationFail}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}","const LANG_KEY = '@user_lang'\r\n\r\nexport const getUserLanguage = () => localStorage.getItem(LANG_KEY);\r\nexport const setUserLanguage = lang => localStorage.setItem(LANG_KEY, lang);","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { UserContext } from '../contexts/UserContext'\r\nimport { Link } from 'react-router-dom'\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap'\r\nimport { getUserLanguage, setUserLanguage } from '../services/lang'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCogs, faExchangeAlt, faFileAlt, faHouseUser, faKey, faLanguage, faPlusCircle, faSearch, faStream, faUser, faUserPlus, faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport '../style/NavBar.css'\r\n\r\nexport default function NavBar() {\r\n    const { t, i18n } = useTranslation();\r\n    const { user, changeDepartment, logoutUser } = useContext(UserContext);\r\n    const [ language, setLanguage ] = useState(getUserLanguage());\r\n    const languageList = Object.keys(i18n.store.data)\r\n\r\n    useEffect(() => {\r\n        i18n.changeLanguage(language)\r\n        setUserLanguage(language || navigator.language || navigator.userLanguage)\r\n    }, [i18n, language])\r\n\r\n    const handleSwitchLanguage = langCode => { if (langCode !== language) setLanguage(langCode) };\r\n\r\n    return (\r\n        <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" expand=\"sm\">\r\n            <Navbar.Brand>\r\n                <Link to=\"/\">\r\n                    <img height='28px' alt='' src='/images/logo_unirio.svg'  style={{ margin: '-6px 6px 0 0' }}/>\r\n                    UNIRIO GED App \r\n                </Link>\r\n            </Navbar.Brand>\r\n            <Nav className=\"mr-auto\">\r\n                <NavDropdown title={\r\n                    <>\r\n                        <FontAwesomeIcon icon={faFileAlt} />\r\n                        <span>{t('document')}</span>\r\n                    </>\r\n                }>\r\n                    <Link to=\"/documents/\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faPlusCircle} />\r\n                        {t('document.add')}\r\n                    </Link>\r\n                    <Link to=\"/\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faSearch} />\r\n                        {t('document.search')}\r\n                    </Link>\r\n                </NavDropdown>\r\n                <NavDropdown title={\r\n                    <>\r\n                        <FontAwesomeIcon icon={faCogs} />\r\n                        <span>{t('management')}</span>\r\n                    </>\r\n                }>\r\n                    <Link to=\"/categories\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faStream} />\r\n                        {t('category_plural')}\r\n                    </Link>\r\n                    <Link to=\"/departments\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faHouseUser} />                        \r\n                        {t('department_plural')}\r\n                    </Link>\r\n                    <Link to=\"/users\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faUserPlus} />\r\n                        {t('user.invite')}\r\n                    </Link>\r\n                    <Link to=\"/permissions\" className=\"dropdown-item\">\r\n                        <FontAwesomeIcon className=\"icon\" icon={faKey} />\r\n                        {t('user.permissions')}\r\n                    </Link>\r\n                </NavDropdown>\r\n            </Nav>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"ml-auto\">\r\n                    <div className=\"nav-link menu-user-box\">\r\n                        <span>{`${user?.firstName} ${user?.surname}`}</span>\r\n                        <FontAwesomeIcon icon={faUser} />\r\n                    </div>\r\n                </Nav>\r\n                <Nav>\r\n                    <NavDropdown title={ \r\n                        <>\r\n                            <span>{t('language')}</span>\r\n                            <FontAwesomeIcon icon={faLanguage} />\r\n                        </>\r\n                     }>\r\n                        { languageList.map((lang, index) =>\r\n                            <NavDropdown.Item key={index} onClick={() => { handleSwitchLanguage(lang) }} className={`${language === lang ? 'active' : '' }`}>\r\n                                <img className=\"icon flag\" alt={t(`language.${lang}.fullName`)} src={`/images/${lang}.svg`}/>\r\n                                <span>{t(`language.${lang}.shortName`)}</span>\r\n                            </NavDropdown.Item>\r\n                        )}\r\n                    </NavDropdown>\r\n                </Nav>\r\n                <Nav>\r\n                    <NavDropdown title={\r\n                        <>\r\n                            <span>{`${t('department')}: ${user?.currentDepartment?.acronym}`}</span>\r\n                            <FontAwesomeIcon icon={faExchangeAlt} />\r\n                        </>\r\n                    }>\r\n                        { (user ? user.departments : []).map(dept =>\r\n                            <NavDropdown.Item key={dept.id} onClick={() => { changeDepartment(dept.id) }} className={`${dept.id === user?.currentDepartment?.id ? 'active' : '' }`}>\r\n                                {`${dept.name} (${dept.acronym})`}\r\n                            </NavDropdown.Item>\r\n                        )}\r\n                    </NavDropdown>\r\n                </Nav>\r\n                <Nav>\r\n                    <Nav.Link onClick={logoutUser}>\r\n                        <span>{t('logout')}</span>\r\n                        <FontAwesomeIcon icon={faSignOutAlt} />\r\n                    </Nav.Link>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons'\r\n\r\nexport default function DatePicker({ name, min, max, value, onChange, onClear }) {\r\n    return (\r\n        <div className=\"dateFilter\">\r\n            <Form.Control type=\"date\" name={name} required\r\n                onChange={onChange}\r\n                min={min}\r\n                max={max}\r\n                value={value}\r\n            />\r\n            <span className=\"clear-input\" onClick={onClear}>\r\n                <FontAwesomeIcon icon={faTimesCircle} />\r\n            </span>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport rq from '../../services/api'\r\nimport DatePicker from '../utils/DatePicker'\r\nimport { Button, Form, InputGroup } from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDown, faAngleUp, faCircleNotch, faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function SearchBar({ isSearching, onSearch }) {\r\n    const { t } = useTranslation();\r\n    const [filters, setFilters] = useState({\r\n        text: '',\r\n        minDate: undefined,\r\n        maxDate: undefined,\r\n        category: '',\r\n        myDocuments: false\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const [expandedOptions, setExpandedOptions] = useState(false);\r\n\r\n    useEffect(() => {\r\n        rq('/categories', { method: 'GET' })\r\n            .then(res => { if (res.ok) return res.json() })\r\n            .then(cats => setCategories(cats?.length ? cats : [{ id: 0, fullName: t('document.form.category.zeroOptions') }]));\r\n    }, [t])\r\n\r\n    const handleFilterChange = e => {\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n\r\n        if (name === 'category' && e.target.value === '-1') {\r\n            value = 0\r\n        } else if (name === 'myDocuments') {\r\n            value = e.target.value === 'false'\r\n        }\r\n\r\n        setFilters({ ...filters, [name]: value })\r\n    }\r\n\r\n    const validateFilters = filtersObj => filtersObj.text.trim().length > 0 || filtersObj.category || filtersObj.minDate || filtersObj.maxDate || filtersObj.myDocuments;\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (validateFilters(filters)) {\r\n            let { text, ...optFilters } = filters;\r\n            onSearch(text.trim(), optFilters);\r\n        } else {\r\n            window.alert('fill at least one input')\r\n        }\r\n    }\r\n\r\n    const onKeyPress = e => {\r\n        if (e.code === 'Enter')\r\n            handleSubmit(e);\r\n    }\r\n\r\n    return (\r\n        <Form noValidate={true}\r\n            onSubmit={handleSubmit}\r\n            style={{ width: \"100%\", maxWidth: \"900px\" }}>\r\n            <Form.Group>\r\n                <Form.Row>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text id=\"inputGroupPrepend\">\r\n                                <FontAwesomeIcon icon={faSearch} />\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                            disabled={isSearching}\r\n                            onChange={e => setFilters({ ...filters, text: e.target.value })}\r\n                            onKeyPress={!isSearching ? onKeyPress : null}\r\n                            value={filters.text}\r\n                            type=\"text\" />\r\n                    </InputGroup>\r\n                </Form.Row>\r\n            </Form.Group>\r\n            <Form.Group id=\"btnsGroup\">\r\n                <Form.Row className={`searchOptions ${expandedOptions ? '' : 'hide'}`}>\r\n                    <Form.Row>\r\n                        <Form.Label>{t('searchBar.filters.category')}</Form.Label>\r\n                        <Form.Control as=\"select\" name=\"category\"\r\n                            onChange={handleFilterChange}\r\n                            value={filters.category}\r\n                        >\r\n                            <option style={{ display: 'none' }}>{t('document.form.category.choose')}</option>\r\n                            {categories[0]?.id === 0 ? <></> : <option value=\"-1\">-- {t('none')} --</option>}\r\n                            {categories.map(item => (\r\n                                <option key={item.id} value={item.id}>{item.fullName}</option>\r\n                            ))}\r\n                        </Form.Control>\r\n                    </Form.Row>\r\n                    <Form.Row>\r\n                        <Form.Label>{t('searchBar.filters.date.from')}</Form.Label>\r\n                        <DatePicker name=\"minDate\" required \r\n                            onChange={handleFilterChange}\r\n                            onClear={() => setFilters({ ...filters, minDate: '' })}\r\n                            max={filters.maxDate}\r\n                            value={filters.minDate}\r\n                        />\r\n                        <Form.Label>{t('searchBar.filters.date.until')}</Form.Label>\r\n                        <DatePicker name=\"maxDate\" required \r\n                            onChange={handleFilterChange}\r\n                            onClear={() => setFilters({ ...filters, maxDate: '' })}\r\n                            min={filters.minDate}\r\n                            value={filters.maxDate}\r\n                        />\r\n                    </Form.Row>\r\n                    <Form.Row>\r\n                        <Form.Check type=\"checkbox\" name=\"myDocuments\" custom\r\n                            id=\"filterMyDocuments\"\r\n                            onClick={handleFilterChange}\r\n                            label={t('searchBar.filters.registeredByMe')}\r\n                            value={filters.myDocuments}\r\n                        />\r\n                    </Form.Row>\r\n                </Form.Row>\r\n                <Form.Row>\r\n                    <Button\r\n                        id=\"searchOptionsBtn\"\r\n                        className=\"searchBtn\"\r\n                        onClick={() => setExpandedOptions(!expandedOptions)}\r\n                        variant=\"link\">\r\n                        {t(`searchBar.${expandedOptions ? 'less' : 'more'}FiltersButton`)}\r\n                        <FontAwesomeIcon className=\"append\" icon={expandedOptions ? faAngleUp : faAngleDown} />\r\n                    </Button>\r\n                    <Button\r\n                        className=\"searchBtn\"\r\n                        disabled={isSearching}\r\n                        variant=\"primary\"\r\n                        type=\"submit\">\r\n                        {!isSearching\r\n                            ? t('searchBar.searchButton')\r\n                            : <FontAwesomeIcon icon={faCircleNotch} className=\"faSpin\" />}\r\n                    </Button>\r\n                </Form.Row>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Pagination } from 'react-bootstrap'\r\n\r\nexport default function SearchResultTablePagination({ numPages, activePage, onSearch }) {\r\n    const [paginationItems, setPaginationItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let items = []\r\n\r\n        let minPagePagination = activePage - 2;\r\n        let maxPagePagination = activePage + 2;\r\n    \r\n        if (maxPagePagination > numPages) {\r\n            maxPagePagination = numPages;\r\n            minPagePagination = numPages - 4;\r\n        }\r\n\r\n        if (minPagePagination <= 1)\r\n            minPagePagination = 1;\r\n         \r\n        items.push(<Pagination.First key={'first'} onClick={() => onSearch(1)} disabled={activePage === 1} />)\r\n        items.push(<Pagination.Prev key={'-'} onClick={() => onSearch(activePage-1)} disabled={activePage === 1}/>)\r\n        \r\n        for (let pageNum = minPagePagination; pageNum <= maxPagePagination; pageNum++) {\r\n            items.push(\r\n                <Pagination.Item key={pageNum} onClick={() => { if (pageNum === activePage) return; onSearch(pageNum) }} active={pageNum === activePage}>\r\n                    {pageNum}\r\n                </Pagination.Item>\r\n            );\r\n        }\r\n         \r\n        items.push(<Pagination.Next key={'+'} onClick={() => onSearch(activePage+1)} disabled={activePage === numPages} />)\r\n        items.push(<Pagination.Last key={'last'} onClick={() => onSearch(numPages)} disabled={activePage === numPages}/>)\r\n\r\n        setPaginationItems(items);\r\n    }, [numPages, activePage, onSearch]);\r\n\r\n    return (\r\n        <Pagination className=\"tablePagination justify-content-end\">\r\n            {paginationItems}\r\n        </Pagination>\r\n    );\r\n}","import { Badge } from 'react-bootstrap'\r\n\r\nexport const getStatusBadge = status => {\r\n    status = status || ''\r\n\r\n    let badgeVariant\r\n    switch (status) {\r\n        case 'SUCCESS':\r\n            badgeVariant = 'success'\r\n            break;\r\n        case 'FAILED':\r\n            badgeVariant = 'danger'\r\n            break;\r\n        case 'PROCESSING':\r\n            badgeVariant = 'info'\r\n            break;\r\n        default:\r\n        case 'NOT_PROCESSED':\r\n            badgeVariant = 'secondary'\r\n            break;\r\n    }\r\n\r\n    return <Badge className=\"capitalize\" variant={badgeVariant}>{status.toLowerCase()}</Badge>\r\n}","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport rq from '../../services/api'\r\nimport SearchResultTablePagination from './SearchResultTablePagination'\r\nimport { getStatusBadge } from '../utils/StatusBadge'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table } from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faDownload, faEdit, faFilePdf, faFileAlt, faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport '../../style/search/Search.css'\r\n\r\nexport default function SearchResultTable({ documents, currentPage, numPages, deleteDocument, onSearch }) {\r\n    const { t } = useTranslation();\r\n\r\n    const getFileIcon = mediaType => {\r\n        switch(mediaType) {\r\n            case 'application/pdf':\r\n                return faFilePdf;\r\n            default:\r\n            case 'text/plain':\r\n                return faFileAlt;\r\n        }\r\n    }\r\n\r\n    const getDocumentFile = (docId, fileName, isDownload) => {\r\n        rq(`/documents/${docId}/download`, { method: 'GET' })\r\n            .then(res => { if (res.ok) return res.blob(); })\r\n            .then(blob => {\r\n                var blobUrl = window.URL.createObjectURL(blob);\r\n\r\n                if (isDownload) {\r\n                    const anchor = document.createElement('a');\r\n                    anchor.download = fileName;\r\n                    anchor.target = \"_blank\";\r\n                    anchor.href = blobUrl;\r\n                    anchor.click();\r\n                } else {\r\n                    window.open(blobUrl, '_blank');\r\n                }\r\n\r\n                window.URL.revokeObjectURL(blobUrl);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={`flex-column`} style={{ width: '100%' }}>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th><div className=\"center\">{t('table.actions')}</div></th>\r\n                        <th width=\"15%\"><div className=\"center\">{t('document.title')}</div></th>\r\n                        <th width=\"50%\"><div className=\"center\">{t('document.summary')}</div></th>\r\n                        <th width=\"15%\"><div className=\"center\">{t('document.category')}</div></th>\r\n                        <th><div className=\"center\">{t('document.date')}</div></th>\r\n                        <th><div className=\"center\">{t('document.status')}</div></th>\r\n                        <th><div className=\"center\">{t('document.registeredBy')}</div></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {documents.map((item, index) => (\r\n                        <tr key={item.id}>\r\n                            <td>\r\n                                <div className=\"actions center\">\r\n                                    <span onClick={() => getDocumentFile(item.id, item.fileName, false)}>\r\n                                        <FontAwesomeIcon className=\"icon\" icon={getFileIcon(item.mediaType)} />\r\n                                    </span>\r\n                                    <span onClick={() => getDocumentFile(item.id, item.fileName, true)}>\r\n                                        <FontAwesomeIcon className=\"icon\" icon={faDownload} />\r\n                                    </span>\r\n                                    <Link to={`/documents/${item.id}`}>\r\n                                        <FontAwesomeIcon className=\"icon\" icon={faEdit} />\r\n                                    </Link>\r\n                                    <span onClick={() => deleteDocument(item.id)}>\r\n                                        <FontAwesomeIcon className=\"icon\" icon={faTrash} />\r\n                                    </span>\r\n                                </div>\r\n                            </td>\r\n                            <td><div>{item.title}</div></td>\r\n                            <td><div className=\"heightOverflow\">{item.summary}</div></td>\r\n                            <td><div className=\"center\">{item.fullCategoryHierarchy}</div></td>\r\n                            <td><div className=\"center\">{item.formattedDate}</div></td>\r\n                            <td><div className=\"center\">{getStatusBadge(item.status)}</div></td>\r\n                            <td><div className=\"center\">{item.registeredBy}</div></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n            <SearchResultTablePagination numPages={numPages} activePage={currentPage} onSearch={onSearch} />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport rq from '../../services/api'\r\nimport SearchBar from './SearchBar'\r\nimport SearchResultTable from './SearchResultTable'\r\nimport '../../style/search/Search.css'\r\n\r\nexport default function Search() {\r\n    const { t } = useTranslation();\r\n    const [isSearching, setSearching] = useState(null);\r\n    const [isSearchSuccess, setSearchSuccess] = useState(false);\r\n    const [docs, setDocs] = useState([]);\r\n    const [currentQuery, setCurrentQuery] = useState('');\r\n    const [currentQueryString, setCurrentQueryString] = useState('');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pageSize] = useState(5);\r\n    const [totalResults, setTotalResults] = useState(0);\r\n\r\n    const searchDocs = (queryString, filters) => {\r\n        setCurrentQueryString(queryString);\r\n        setSearchSuccess(false);\r\n        setSearching(true);\r\n        \r\n        let url = '/documents/search?';\r\n        for (const filter in filters) {\r\n            let value = filters[filter];\r\n            if (!!value)\r\n                url += `${filter}=${encodeURI(value)}&`;\r\n        }\r\n        url += `q=${encodeURI(queryString)}`;\r\n\r\n        rq(url, { method: \"GET\" }\r\n        ).then(res => { if (res.ok) { setSearchSuccess(true); setCurrentQuery(url); return res.json() } else { window.alert('Error searching documents') } }\r\n        ).then(result => { if (result) { setCurrentPage(result.page || 0); setTotalResults(result.totalHits|| 0); setDocs(result.results || []) }}\r\n        ).catch(err => { setSearchSuccess(false); window.alert(t('search.error')); }\r\n        ).finally(() => setSearching(false));\r\n    }\r\n\r\n    const searchPage = page => {\r\n        setSearchSuccess(false);\r\n        setSearching(true);\r\n\r\n        rq(`${currentQuery}&page=${page}&pageSize=${pageSize}`, { method: \"GET\" }\r\n        ).then(res => { if (res.ok) { setSearchSuccess(true); return res.json() } else { window.alert('Error searching documents') }}\r\n        ).then(result => {if (result) { setCurrentPage(result.page || 0); setTotalResults(result.totalHits || 0); setDocs(result.results || []) }}\r\n        ).catch(err => { setSearchSuccess(false); window.alert(t('search.error')); }\r\n        ).finally(() => setSearching(false));\r\n    }\r\n\r\n    const handleDelete = docId => {\r\n        rq(`/documents/${docId}`, { method: 'DELETE' })\r\n        .then(res => { \r\n            if (!res.ok) return\r\n            window.alert(`Document '${docId}' deleted`)\r\n            setDocs(docs.filter(x => x.id !== docId))\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <div className=\"d-flex align-item justify-content-center searchBox\">\r\n                <h1 style={{ userSelect: 'none' }}>UNIRIO GED App</h1>\r\n            </div>\r\n            <div className=\"d-flex align-item justify-content-center searchBox\">\r\n                <SearchBar isSearching={isSearching} onSearch={searchDocs} />\r\n            </div>\r\n            <div id=\"docsTable\" className={`d-flex align-item justify-content-center searchBox ${isSearching !== null ? 'active' : ''}`}>\r\n            {!isSearching && isSearchSuccess && docs.length\r\n                ? <SearchResultTable documents={docs} currentPage={currentPage} numPages={Math.ceil(totalResults/pageSize)} deleteDocument={handleDelete} onSearch={searchPage} />\r\n                : (!isSearching && isSearchSuccess && !docs.length) || (!isSearching && !isSearchSuccess)\r\n                    ? <div style={{ width: \"100%\", maxWidth: \"900px\" }}>\r\n                        <p>\r\n                            {t('search.noResultFound.message.p1')}\r\n                            {currentQueryString.length ? t('search.noResultFound.message.p2') : ''}\r\n                            <b style={{ display: currentQueryString.length ? 'inline-block' : 'none'}}>{currentQueryString}</b>\r\n                            {t('search.noResultFound.message.p3')}\r\n                        </p>\r\n                        <div>\r\n                            <p style={{ marginBottom: 0 }}>{t('search.noResultFound.searchTips.title')}</p>\r\n                            <ul>\r\n                                <li>{t('search.noResultFound.searchTips.item1')}</li>\r\n                                <li>{t('search.noResultFound.searchTips.item2')}</li>\r\n                                <li>{t('search.noResultFound.searchTips.item3')}</li>\r\n                                <li>{t('search.noResultFound.searchTips.item4')}</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    : ''\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport '../../style/PageNotFound.css'\r\n\r\nexport default function PageNotFound() {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <div className=\"pageNotFound\">\r\n            <h1>{t('pageNotFound.title')}</h1>\r\n            <h2>{t('pageNotFound.subtitle')}</h2>\r\n\r\n            <p className=\"message\">\r\n                {t('pageNotFound.message')}\r\n            </p>\r\n            <a href=\"/\">{t('pageNotFound.home')}</a>\r\n            <p className=\"contactUs\">\r\n                {t('pageNotFound.contactUs')}\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Categories() {\r\n    return (\r\n        <div>\r\n            <h1>MANAGE CATEGORIES</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function UserPermissions() {\r\n    return (\r\n        <div>\r\n            <h1>MANAGE USER PERMISSIONS</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport rq from '../../services/api'\r\nimport DatePicker from '../utils/DatePicker'\r\nimport { getStatusBadge } from '../utils/StatusBadge'\r\nimport { AuthContext } from '../../contexts/AuthContext'\r\nimport { Button, Col, Form } from 'react-bootstrap'\r\nimport { Redirect, Route, Switch, useParams, useRouteMatch } from 'react-router-dom'\r\nimport '../../style/documents/DocumentDetails.css'\r\n\r\nconst DocumentForm = () => {\r\n    const { t } = useTranslation();\r\n    const { docId } = useParams();\r\n    const { user } = useContext(AuthContext);\r\n    const [ redirect, setRedirect ] = useState(null);\r\n    const [ categories, setCategories ] = useState([]);\r\n    const [ validation, setValidation ] = useState({});\r\n    const initialDocumentValues = useMemo(() => { return {\r\n        title: '',\r\n        summary: '',\r\n        category: 0,\r\n        date: new Date().toISOString().split('T')[0],\r\n        file: undefined\r\n    }}, []);\r\n    const [ document, setDocument ] = useState(initialDocumentValues);\r\n\r\n    useEffect(() => { if (redirect) setRedirect(null) }, [redirect])\r\n\r\n    useEffect(() => {\r\n        rq('/categories', { method: 'GET' })\r\n        .then(res => { if (res.ok) return res.json() })\r\n        .then(cats => setCategories(cats?.length ? cats : [{ id: 0, fullName: t('document.form.category.zeroOptions') }]));\r\n    }, [t])\r\n\r\n    useEffect(() => {\r\n        if (docId && docId !== document.id) {\r\n            rq(`/documents/${docId}`, { method: 'GET' })\r\n            .then(res => { if (res.ok) return res.json(); else setRedirect('/documents'); })\r\n            .then(doc => { if (doc) setDocument({ ...doc, file: { name: doc.fileName, size: -1 } }) });\r\n        } else if (!docId && document.id) {\r\n            setDocument(initialDocumentValues)\r\n            setValidation({})\r\n        }\r\n    }, [docId, document.id, initialDocumentValues])\r\n\r\n    const validateField = (name, value, localValidationObj) => {\r\n        localValidationObj = localValidationObj || validation\r\n        var fieldValidation = false;\r\n\r\n        switch (name) {\r\n            case 'file':\r\n                if (!value)\r\n                    fieldValidation = 'fileRequired'\r\n                else if (!value.size)\r\n                    fieldValidation = 'emptyContentFile'\r\n                else if (!value.name.match(/^.*?\\.(doc|docx|docm|eml|epub|odf|odt|pdf|rtf|rtx|txt|text)$/gi))\r\n                    fieldValidation = 'invalidFileType'\r\n                break\r\n            case 'title':\r\n                if (!value.length)\r\n                    fieldValidation = 'titleRequired'\r\n                break\r\n            case 'category':\r\n                if (value <= 0)\r\n                    fieldValidation = 'categoryRequired'\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        localValidationObj = { ...localValidationObj, [name]: fieldValidation }\r\n        setValidation(localValidationObj)\r\n        return localValidationObj\r\n    }\r\n\r\n    const handleDocChange = e => {\r\n        let doc = document\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let localValidationObj = undefined\r\n\r\n        if (name === 'uploadFile') {\r\n            if (!e.target.files.length) return\r\n            name = 'file'\r\n            value = e.target.files[0]\r\n\r\n            if (!doc.title) {\r\n                let docName = e.target.files[0].name.replace(/\\.\\w+?$/g, '')\r\n                doc = { ...doc, title: docName }\r\n                localValidationObj = validateField('title', docName)\r\n            }\r\n        }\r\n\r\n        validateField(name, value, localValidationObj)\r\n        setDocument({ ...doc, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        \r\n        let validationObj = validation\r\n        Object.entries(document).forEach(i => validationObj = validateField(i[0], i[1], validationObj))\r\n        if (!Object.values(validationObj).every(i => i === false))\r\n            return;\r\n\r\n        let { file, ...doc } = document;\r\n        doc = { \r\n            ...doc, \r\n            tenant: user.currentDepartment.acronym.toLowerCase(),\r\n            registeredBy: user.id, \r\n            registeredAt: new Date().toISOString() \r\n        };\r\n\r\n        if (document.id && document.file.name === document.fileName && document.file.size === -1)\r\n            file = undefined\r\n\r\n        submitDocumentForm(doc, file, !!document.id);\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        rq(`/documents/${docId}`, { method: 'DELETE' })\r\n        .then(res => { \r\n            if (!res.ok) return\r\n            window.alert(`Document '${docId}' deleted`)\r\n            setRedirect('/documents')\r\n        });\r\n    }\r\n\r\n    const submitDocumentForm = (docInfo, file, isEdit) => {\r\n        var formData = new FormData();\r\n        formData.append('file', file);\r\n        formData.append('document', new Blob([JSON.stringify(docInfo)], { type: 'application/json' }));\r\n\r\n        rq(`/documents${isEdit ? `/${docId}` : ''}`, {\r\n            method: isEdit ? 'PATCH' : 'POST',\r\n            headers: { 'Accept': 'application/json' },\r\n            body: formData\r\n        }).then(res => { if (res.ok) return res.json() \r\n        }).then(doc => { if (doc) setRedirect(`/documents/${doc.id}`) });\r\n    }\r\n\r\n    return (\r\n        redirect\r\n        ? <Redirect to={redirect} />\r\n        : <Form id=\"docForm\" noValidate onSubmit={handleSubmit}>\r\n            <h1>{t(`document.form.${docId ? 'edit' : 'add'}.title`)}</h1>\r\n            <Form.Row>\r\n                <Form.Group as={Col} controlId=\"docForm.fileName\">\r\n                    <Form.Label>{t('document.form.file')}</Form.Label>\r\n                    <Form.File id=\"doc\" custom>\r\n                        <Form.File.Input \r\n                            name=\"uploadFile\" onChange={handleDocChange} required\r\n                            isInvalid={validation.file} />\r\n                        <Form.File.Label data-browse={t('document.form.file.choose')}>\r\n                            {document.file?.name || t('document.form.file.placeholder')}\r\n                        </Form.File.Label>\r\n                        <Form.Control.Feedback type=\"invalid\">{t(`document.form.validation.${validation.file}`)}</Form.Control.Feedback>\r\n                    </Form.File>\r\n                </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row>\r\n                <Form.Group as={Col} controlId=\"docForm.title\">\r\n                    <Form.Label>{t('document.title')}</Form.Label>\r\n                    <Form.Control \r\n                        type=\"text\" name=\"title\" required \r\n                        onChange={handleDocChange} \r\n                        isInvalid={validation.title}\r\n                        value={document.title} />\r\n                        <Form.Control.Feedback type=\"invalid\">{t(`document.form.validation.${validation.title}`)}</Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group as={Col} xs={2} controlId=\"docForm.status\" style={{ display: document.id ? 'block' : 'none' }}>\r\n                    <Form.Label>{t('document.status')}</Form.Label>\r\n                    <Form.Text as=\"p\">\r\n                        {getStatusBadge(document.status)}\r\n                    </Form.Text>\r\n                </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row>\r\n                <Form.Group as={Col} controlId=\"docForm.summary\">\r\n                    <Form.Label>{t('document.summary')}</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows={5} name=\"summary\" onChange={handleDocChange} value={document.summary}/>\r\n                    <Form.Text className=\"text-muted\">\r\n                        {t('document.form.summary.mutedText')}\r\n                    </Form.Text>\r\n                </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row>\r\n                <Form.Group as={Col} controlId=\"docForm.category\">\r\n                    <Form.Label>{t('document.category')}</Form.Label>\r\n                    <Form.Control as=\"select\" name=\"category\" required \r\n                        onChange={handleDocChange} \r\n                        isInvalid={validation.category}\r\n                        value={document.category}>\r\n                        <option style={{display: 'none'}}>{t('document.form.category.choose')}</option>\r\n                        {categories.map(item => (\r\n                            <option key={item.id} value={item.id}>{item.fullName}</option>\r\n                        ))}\r\n                    </Form.Control>\r\n                    <Form.Control.Feedback type=\"invalid\">{t(`document.form.validation.${validation.category}`)}</Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group as={Col} controlId=\"docForm.date\">\r\n                    <Form.Label>{t('document.date')}</Form.Label>\r\n                    <DatePicker name=\"date\" onChange={handleDocChange} value={document.date} onClear={() => handleDocChange({ target: { name: 'date', value: '' } })} />\r\n                </Form.Group>\r\n            </Form.Row>\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                <Button variant=\"danger\" onClick={handleDelete} style={{ display: docId ? 'block' : 'none' }}>\r\n                    {t('document.form.deleteButton')}\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\" style={{ marginLeft: '6px' }} disabled={!Object.values(validation).every(i => i === false)} >\r\n                    {t(`document.form.${docId ? 'updateButton' : 'submitButton'}`)}\r\n                </Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default function DocumentDetails() {\r\n    let match = useRouteMatch();\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path={`${match.path}/:docId`} component={DocumentForm} />\r\n            <Route path={match.path} component={DocumentForm} />\r\n        </Switch>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport NavBar from './NavBar'\r\nimport Search from './search/Search'\r\nimport PageNotFound from './invalid/PageNotFound';\r\nimport Categories from './categories/Categories'\r\nimport UserPermissions from './permissions/UserPermissions'\r\nimport DocumentDetails from './documents/DocumentDetails';\r\n\r\nexport default function Home() {\r\n    return (\r\n        <Container className=\"d-flex flex-column align-item justify-content-center\" style={{ minHeight: \"100vh\", minWidth: \"95vw\" }}>\r\n            <NavBar />\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Search} />\r\n                <Route path=\"/documents\" component={DocumentDetails} />\r\n                <Route path=\"/categories\" component={Categories} />\r\n                <Route path=\"/users\" component={UserPermissions} />\r\n                <Route path=\"*\" component={PageNotFound} />\r\n            </Switch>\r\n        </Container>\r\n    )\r\n}","import React from 'react'\r\nimport { UserProvider } from '../contexts/UserContext';\r\nimport { AuthProvider } from '../contexts/AuthContext';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport PrivateRoute from './PrivateRoute'\r\nimport Login from './Login';\r\nimport Home from './Home'\r\nimport '../style/App.css'\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<AuthProvider>\r\n\t\t\t<UserProvider>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\r\n\t\t\t\t\t<PrivateRoute path=\"*\" component={Home} />\r\n\t\t\t\t</Router>\r\n\t\t\t</UserProvider>\r\n\t\t</AuthProvider>\r\n\t)\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './i18n'\nimport App from './components/App.js'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}