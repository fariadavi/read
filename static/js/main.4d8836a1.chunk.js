(this["webpackJsonpunirio-ged-app-frontend"]=this["webpackJsonpunirio-ged-app-frontend"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(30),s=n.n(o),i=n(58),l=n(45),u={"en-US":{translation:{yes:"Yes",no:"No",none:"None",document:"Document",document_plural:"Documents",category:"Category",category_plural:"Categories",department:"Department",department_plural:"Departments",user:"User",user_plural:"Users","table.actions":"Actions","customButtons.add.tooltip":"Add","customButtons.edit.tooltip":"Edit","customButtons.confirm.tooltip":"Confirm","customButtons.cancel.tooltip":"Cancel","customButtons.filter.tooltip":"Filter","customButtons.delete.tooltip":"Delete","customButtons.clear.tooltip":"Clear","customTable.addRow.text.placeholder":"Enter text","customTable.addRow.validation.mandatoryField":"Mandatory field","customTable.filterRow.text.placeholder":"Enter text to filter","customTable.filterRow.boolean.y":"$t(yes)","customTable.filterRow.boolean.n":"$t(no)","customTable.filterRow.clearBtn.tooltip":"Clear all filters","loginWithGoogle.buttonText":"Sign in with Google","pageNotFound.title":"404","pageNotFound.subtitle":"Oops! Seems like this webpage doesn't exist...","pageNotFound.message":"Either the link you have is broken or this page refers to a content that has been moved or deleted.","pageNotFound.home":"Click here to go to the homepage","pageNotFound.contactUs":"If you believe that should be something here, please contact system administration.","navbar.documents":"$t(document_plural)","navbar.documents.add":"Add New","navbar.documents.search":"Search","navbar.department":"$t(department)","navbar.department.category":"$t(category_plural)","navbar.department.users":"$t(user_plural)","navbar.system":"System","navbar.system.department":"$t(department_plural)","navbar.system.users":"$t(user_plural)","navbar.language":"Language","navbar.language.en-US.shortName":"English","navbar.language.en-US.fullName":"American English","navbar.language.pt-BR.shortName":"Portuguese","navbar.language.pt-BR.fullName":"Brazilian Portuguese","navbar.logout":"Logout","document.title":"Title","document.status":"Status","document.summary":"Summary","document.category":"$t(category)","document.registeredBy":"Registered by","document.date":"Document Date","document.form.add.title":"New Document","document.form.edit.title":"Edit Document","document.form.summary.mutedText":"A brief description of the document being uploaded.","document.form.category.choose":"Choose a category...","document.form.category.zeroOptions":"No categories on current department","document.form.file":"File","document.form.file.choose":"Choose file","document.form.file.placeholder":"No file selected","document.form.deleteButton":"Delete","document.form.updateButton":"Update","document.form.submitButton":"Submit","document.form.validation.fileRequired":"You must attach a file","document.form.validation.invalidFileType":"File selected does not have a valid type","document.form.validation.titleRequired":"Title is required","document.form.validation.categoryRequired":"You must select a category","searchBar.filters.category":"$t(category)","searchBar.filters.date.from":"Date from","searchBar.filters.date.until":"until","searchBar.searchButton":"Search Documents","searchBar.moreFiltersButton":"More filters","searchBar.lessFiltersButton":"Less filters","searchBar.filters.registeredByMe":"Only documents registered by me","search.noResultFound.message.p1":"No results found","search.noResultFound.message.p2":" for ","search.noResultFound.message.p3":" with the specified filters.","search.noResultFound.searchTips.title":"Suggestions:","search.noResultFound.searchTips.item1":"Make sure all words are spelled correctly.","search.noResultFound.searchTips.item2":"Try using different/fewer keywords.","search.noResultFound.searchTips.item3":"Make sure all the optional filters are correctly filled up.","search.noResultFound.searchTips.item4":"Try removing the filters and re-add them gradually.","search.error":"There was an error performing the requested search. Please try again later.","user.name":"User Name","user.email":"Email","users.department.page.header":"Department Users","user.table.headers.status":"Status","user.table.headers.username":"$t(user.name)","user.table.headers.email":"$t(user.email)","user.table.headers.permission.search_docs":"Search documents","user.table.headers.permission.add_docs":"Add documents","user.table.headers.permission.edit_docs_others":"Edit other users documents","user.table.headers.permission.delete_docs_others":"Delete other users documents","user.table.headers.permission.invite_users":"Invite users","user.table.headers.permission.manage_categories":"Manage categories","user.table.headers.permission.manage_dept_perm":"Manage department permissions","user.table.headers.permission.manage_system_perm":"Manage system permissions","user.table.headers.permission.manage_departments":"Manage departments","userPermissions.customTable.actions.addBtn.tooltip":"Invite user","userPermissions.customTable.actions.batchEditBtn.tooltip":"Edit users permissions","userPermissions.customTable.actions.filterBtn.tooltip":"Filter users","userPermissions.customTable.actions.editBtn.tooltip":"Edit user permissions","userPermissions.customTable.actions.deleteBtn.tooltip":"Remove user from this department","userPermissions.customTable.addRow.email.placeholder":"Enter user mail","userPermissions.customTable.addRow.validation.invalidEmailFormat":"Invalid email format","userPermissions.customTable.addRow.validation.invalidDomain":"Email must belong to one of the following domains: @uniriotec.br or @edu.unirio.br","userPermissions.customTable.addRow.addBtn.tooltip":"Send Invite","userPermissions.customTable.filterRow.fullName.placeholder":"Filter by user name","userPermissions.customTable.filterRow.email.placeholder":"Filter by email","userPermissions.customTable.filterRow.status.y":"Active","userPermissions.customTable.filterRow.status.n":"Pending","user.table.data.status.y.tooltip":"Active","user.table.data.status.n.tooltip":"Pending","departments.page.header":"Departments","departments.table.headers.acronym":"Acronym","departments.table.headers.name":"Name","departments.customTable.addRow.acronym.placeholder":"Enter acronym for department","departments.customTable.addRow.name.placeholder":"Enter department name","departments.customTable.addRow.addBtn.tooltip":"Add new department","departments.customTable.addRow.validation.acronymMaxLength":"Acronym length must be 5 characters or fewer","departments.customTable.addRow.validation.cantContainWhitespaces":"Acronym can't contain whitespaces","departments.customTable.filterRow.acronym.placeholder":"Filter by acronym","departments.customTable.filterRow.name.placeholder":"Filter by department name","departments.table.data.isCurrentDept.y":"Current department"}},"pt-BR":{translation:{yes:"Sim",no:"N\xe3o",none_male:"Nenhum",none_female:"Nenhuma",document:"Documento",document_plural:"Documentos",category:"Categoria",category_plural:"Categorias",department:"Departmento",department_plural:"Departmentos",user:"Usu\xe1rio",user_plural:"Usu\xe1rios","table.actions":"A\xe7\xf5es","customButtons.add.tooltip":"Adicionar","customButtons.edit.tooltip":"Editar","customButtons.confirm.tooltip":"Confirmar","customButtons.cancel.tooltip":"Cancelar","customButtons.filter.tooltip":"Filtrar","customButtons.delete.tooltip":"Excluir","customButtons.clear.tooltip":"Limpar","customTable.addRow.text.placeholder":"Entre com o texto","customTable.addRow.validation.mandatoryField":"Campo obrigat\xf3rio","customTable.filterRow.text.placeholder":"Entre com o texto para filtrar","customTable.filterRow.boolean.y":"$t(yes)","customTable.filterRow.boolean.n":"$t(no)","customTable.filterRow.clearBtn.tooltip":"Limpar todos os filtros","loginWithGoogle.buttonText":"Entre com Google","pageNotFound.title":"404","pageNotFound.subtitle":"Oops! Parece que essa p\xe1gina n\xe3o existe...","pageNotFound.message":"O link que voc\xea possui est\xe1 errado ou esta p\xe1gina se refere a um conte\xfado que foi movido ou exclu\xeddo.","pageNotFound.home":"Clique aqui para voltar a p\xe1gina inicial","pageNotFound.contactUs":"Se voc\xea acredita que deveria haver algo aqui, entre em contato com os administradores do sistema.","navbar.documents":"$t(document_plural)","navbar.documents.add":"Adicionar","navbar.documents.search":"Pesquisar","navbar.department":"$t(department)","navbar.department.category":"$t(category_plural)","navbar.department.users":"$t(user_plural)","navbar.system":"Sistema","navbar.system.department":"$t(department_plural)","navbar.system.users":"$t(user_plural)","navbar.language":"Linguagem","navbar.language.en-US.shortName":"Ingl\xeas","navbar.language.en-US.fullName":"Ingl\xeas Americano","navbar.language.pt-BR.shortName":"Portugu\xeas","navbar.language.pt-BR.fullName":"Portugu\xeas Brasileiro","navbar.logout":"Sair","document.title":"T\xedtulo","document.status":"Status","document.summary":"Resumo","document.category":"$t(category)","document.registeredBy":"Cadastrado por","document.date":"Data do Documento","document.form.add.title":"Novo Documento","document.form.edit.title":"Editar Documento","document.form.summary.mutedText":"Uma breve descri\xe7\xe3o do documento sendo enviado.","document.form.category.choose":"Escolha uma categoria...","document.form.category.zeroOptions":"Nenhuma categoria no departamento atual","document.form.file":"Arquivo","document.form.file.choose":"Escolha o arquivo","document.form.file.placeholder":"Nenhum arquivo selecionado","document.form.deleteButton":"Excluir","document.form.updateButton":"Atualizar","document.form.submitButton":"Enviar","document.form.validation.fileRequired":"Deve anexar um arquivo","document.form.validation.invalidFileType":"O tipo de arquivo enviado n\xe3o \xe9 v\xe1lido","document.form.validation.titleRequired":"Titulo \xe9 obrigat\xf3rio","document.form.validation.categoryRequired":"Deve selecionar uma categoria","searchBar.filters.category":"$t(category)","searchBar.filters.date.from":"Data de","searchBar.filters.date.until":"at\xe9","searchBar.searchButton":"Pesquisar documentos","searchBar.moreFiltersButton":"Mais filtros","searchBar.lessFiltersButton":"Menos filtros","searchBar.filters.registeredByMe":"Apenas documentos cadastrados por mim","search.noResultFound.message.p1":"Nenhum resultado encontrado","search.noResultFound.message.p2":" para ","search.noResultFound.message.p3":" com os filtros especificados.","search.noResultFound.searchTips.title":"Sugest\xf5es:","search.noResultFound.searchTips.item1":"Certifique-se de que todas as palavras est\xe3o escritas corretamente.","search.noResultFound.searchTips.item2":"Tente usar outras/menos palavras-chave.","search.noResultFound.searchTips.item3":"Certifique-se de que todas os filtros opcionais est\xe3o preenchidos corretamente.","search.noResultFound.searchTips.item4":"Tente remover os filtros e readicion\xe1-los gradualmente.","search.error":"Houve um erro realizando a busca desejada. Por favor, tente novamente mais tarde.","user.name":"Nome de usu\xe1rio","user.email":"Email","users.department.page.header":"Usu\xe1rios do departmento","user.table.headers.status":"Status","user.table.headers.username":"$t(user.name)","user.table.headers.email":"$t(user.email)","user.table.headers.permission.search_docs":"Procurar documentos","user.table.headers.permission.add_docs":"Adicionar documentos","user.table.headers.permission.edit_docs_others":"Editar documentos de outros usu\xe1rios","user.table.headers.permission.delete_docs_others":"Excluir documentos de outros usu\xe1rios","user.table.headers.permission.invite_users":"Convidar usu\xe1rios","user.table.headers.permission.manage_categories":"Gerenciar categorias","user.table.headers.permission.manage_dept_perm":"Gerenciar permiss\xf5es de departamento","user.table.headers.permission.manage_system_perm":"Gerenciar permiss\xf5es de sistema","user.table.headers.permission.manage_departments":"Gerenciar departamentos","userPermissions.customTable.actions.addBtn.tooltip":"Convidar usu\xe1rio","userPermissions.customTable.actions.batchEditBtn.tooltip":"Editar permiss\xf5es dos usu\xe1rios","userPermissions.customTable.actions.filterBtn.tooltip":"Filtrar usu\xe1rios","userPermissions.customTable.actions.editBtn.tooltip":"Editar permiss\xf5es do usu\xe1rio","userPermissions.customTable.actions.deleteBtn.tooltip":"Remover usu\xe1rio deste departamento","userPermissions.customTable.addRow.email.placeholder":"Entre com o email do usu\xe1rio","userPermissions.customTable.addRow.validation.invalidEmailFormat":"Email com formato inv\xe1lido","userPermissions.customTable.addRow.validation.invalidDomain":"Email deve pertencer \xe0 uma das seguintes organiza\xe7\xf5es: @uniriotec.br ou @edu.unirio.br","userPermissions.customTable.addRow.addBtn.tooltip":"Enviar convite","userPermissions.customTable.filterRow.fullName.placeholder":"Filtrar por nome de usu\xe1rio","userPermissions.customTable.filterRow.email.placeholder":"Filtrar por email","userPermissions.customTable.filterRow.status.y":"Ativo","userPermissions.customTable.filterRow.status.n":"Pendente","user.table.data.status.y.tooltip":"Ativo","user.table.data.status.n.tooltip":"Pendente","departments.page.header":"Departmentos","departments.table.headers.acronym":"Sigla","departments.table.headers.name":"Nome","departments.customTable.addRow.acronym.placeholder":"Entre a sigla do departamento","departments.customTable.addRow.name.placeholder":"Entre o nome do departamento","departments.customTable.addRow.addBtn.tooltip":"Adicionar novo departamento","departments.customTable.addRow.validation.acronymMaxLength":"Sigla deve ter no m\xe1ximo 5 caracteres","departments.customTable.addRow.validation.cantContainWhitespaces":"Sigla n\xe3o pode conter espa\xe7os em branco","departments.customTable.filterRow.acronym.placeholder":"Filtrar pela sigla","departments.customTable.filterRow.name.placeholder":"Filtrar pelo nome do departamento","departments.table.data.isCurrentDept.y":"Departmento atual"}}};i.a.use(l.e).init({resources:u,lng:"en-US",keySeparator:!1,interpolation:{escapeValue:!1}});i.a;var d=n(7),m=n.n(d),b=n(11),j=n(5),p="@gedapp-auth-token",h=function(){return localStorage.getItem(p)},f=function(e){return localStorage.setItem(p,e)};function O(e,t){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=h())&&(n.headers||(n.headers={}),n.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",fetch("".concat("https://unirio-ged-app.herokuapp.com").concat(t),n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(r.createContext)();function g(e){var t=e.children,n=Object(r.useState)(h()),c=Object(j.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],v=Object(r.useCallback)((function(){d(!0),s(null),localStorage.removeItem(p),d(!1)}),[]),g=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,O("/api/auth/google/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.tokenId});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.status);case 7:return e.next=9,n.text();case 9:a=e.sent,f(a),s(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),v();case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(x.Provider,{value:{authenticated:null!==o,token:o,authLoading:u,handleAuthentication:g,handleAuthLogout:v},children:t})}var y=Object(r.createContext)();function k(e){var t=e.children,n=Object(r.useContext)(x),c=n.token,o=n.handleAuthLogout,s=Object(r.useState)(),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)(!1),p=Object(j.a)(d,2),h=p[0],f=p[1],v=Object(r.useCallback)(Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,O("/users/loggedUserInfo",{method:"GET"});case 4:if(t=e.sent,f(!1),t.ok){e.next=8;break}throw new Error(t.status);case 8:return e.t0=u,e.next=11,t.json();case 11:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 15:throw e.prev=15,e.t2=e.catch(1),o(),new Error(e.t2);case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[o]),g=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,O("/users/".concat(l.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentDepartment:{id:t}})});case 3:if(n=e.sent,f(!1),n.ok){e.next=7;break}throw new Error(n.status);case 7:v();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!l&&c&&v()}),[l,c,v]),Object(a.jsx)(y.Provider,{value:{user:l,department:null===l||void 0===l?void 0:l.currentDepartment,userLoading:h,checkPermission:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return l.permissions.includes(e)}))},setLoggedUserInfo:v,changeDepartment:g,logoutUser:function(){f(!0),u(null),o(),f(!1)}},children:t})}var C=n(18),w=n(14),N=n(9),T=n(24);function E(e){var t=e.component,n=Object(T.a)(e,["component"]),c=Object(r.useContext)(y),o=c.user,s=c.logoutUser;return Object(r.useContext)(x).token?o?Object(a.jsx)(w.b,Object(N.a)(Object(N.a)({},n),{},{component:t})):Object(a.jsx)("h1",{children:"Loading User..."}):(o&&s(),Object(a.jsx)(w.a,{to:"/login"}))}var S=n(121),B=n(66),R=n.n(B),F=n(112);function D(){var e=Object(S.a)().t,t=Object(r.useContext)(x),n=t.authLoading,c=t.authenticated,o=t.handleAuthentication,s=t.handleAuthLogout;return n?Object(a.jsx)("h1",{children:"Loading..."}):c?Object(a.jsx)(w.a,{to:"/"}):Object(a.jsx)(F.a,{className:"d-flex align-item justify-content-center",style:{minHeight:"100vh"},children:Object(a.jsxs)("div",{className:"d-flex flex-column align-item justify-content-center",children:[Object(a.jsx)("h1",{children:"UNIRIO GED App"}),Object(a.jsx)("div",{className:"d-flex align-item justify-content-center",children:Object(a.jsx)(R.a,{clientId:"363171374429-j2ucgraghs57fudoi2e8qml1ji1dv4n8.apps.googleusercontent.com",buttonText:e("loginWithGoogle.buttonText"),onSuccess:o,onFailure:function(e,t){s(),console.log("login failed")},cookiePolicy:"single_host_origin"})})]})})}var A=n(36),P=n(117),_=n(119),I=n(116),L="@user_lang",G=n(13),M=n(10);n(93);function U(){var e,t=Object(S.a)(),n=t.t,c=t.i18n,o=Object(r.useContext)(y),s=o.user,i=o.department,l=o.checkPermission,u=o.changeDepartment,d=o.logoutUser,m=Object(r.useState)(localStorage.getItem(L)),b=Object(j.a)(m,2),p=b[0],h=b[1],f=Object.keys(c.store.data);Object(r.useEffect)((function(){var e;c.changeLanguage(p),e=p||navigator.language||navigator.userLanguage,localStorage.setItem(L,e)}),[c,p]);return Object(a.jsxs)(P.a,{fixed:"top",bg:"dark",variant:"dark",expand:"sm",children:[Object(a.jsx)(P.a.Brand,{children:Object(a.jsxs)(C.b,{to:"/",children:[Object(a.jsx)("img",{height:"28px",alt:"",src:"/unirio-ged-app-frontend/images/logo_unirio.svg",style:{margin:"-6px 6px 0 0"}}),"UNIRIO GED App"]})}),Object(a.jsxs)(_.a,{className:"mr-auto",children:[l("ADD_DOCS","SEARCH_DOCS")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{icon:M.k}),Object(a.jsx)("span",{children:n("navbar.documents")})]}),children:[l("ADD_DOCS")&&Object(a.jsxs)(C.b,{to:"/documents/",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.s}),n("navbar.documents.add")]}),l("SEARCH_DOCS")&&Object(a.jsxs)(C.b,{to:"/",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.u}),n("navbar.documents.search")]})]}),l("MANAGE_CATEGORIES","INVITE_USERS","MANAGE_DEPT_PERM")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{icon:M.n}),Object(a.jsx)("span",{children:n("navbar.department")})]}),children:[l("MANAGE_CATEGORIES")&&Object(a.jsxs)(C.b,{to:"/categories",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.A}),n("navbar.department.category")]}),l("INVITE_USERS","MANAGE_DEPT_PERM")&&Object(a.jsxs)(C.b,{to:"/users/department",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.G}),n("navbar.department.users")]})]}),l("MANAGE_DEPARTMENTS","MANAGE_SYSTEM_PERM")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{icon:M.g}),Object(a.jsx)("span",{children:n("navbar.system")})]}),children:[l("MANAGE_DEPARTMENTS")&&Object(a.jsxs)(C.b,{to:"/departments",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.o}),n("navbar.system.department")]}),l("MANAGE_SYSTEM_PERM")&&Object(a.jsxs)(C.b,{to:"/users/system",className:"dropdown-item",children:[Object(a.jsx)(G.a,{className:"icon",icon:M.G}),n("navbar.system.users")]})]})]}),Object(a.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(P.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsx)(_.a,{className:"ml-auto",children:Object(a.jsxs)("div",{className:"nav-link menu-user-box",children:[Object(a.jsx)("span",{"data-tip":null===s||void 0===s?void 0:s.email,children:"".concat(null===s||void 0===s?void 0:s.firstName," ").concat(null===s||void 0===s?void 0:s.surname)}),Object(a.jsx)(A.a,{}),Object(a.jsx)(G.a,{icon:M.E})]})}),Object(a.jsx)(_.a,{children:Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:n("navbar.language")}),Object(a.jsx)(G.a,{icon:M.p})]}),children:f.map((function(e,t){return Object(a.jsxs)(I.a.Item,{onClick:function(){var t;(t=e)!==p&&h(t)},className:"".concat(p===e?"active":""),children:[Object(a.jsx)("img",{className:"icon flag",alt:n("language.".concat(e,".fullName")),src:"/unirio-ged-app-frontend/images/".concat(e,".svg")}),Object(a.jsx)("span",{children:n("navbar.language.".concat(e,".shortName"))})]},t)}))})}),Object(a.jsx)(_.a,{children:Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"".concat(n("navbar.department"),": ").concat((null===i||void 0===i?void 0:i.acronym)||n("none",{context:"male"}))}),Object(a.jsx)(G.a,{icon:M.j})]}),disabled:!(null===s||void 0===s?void 0:s.departments.length),children:((null===s||void 0===s||null===(e=s.departments)||void 0===e?void 0:e.sort((function(e,t){return e.acronym.localeCompare(t.acronym)})))||[]).map((function(e){var t;return Object(a.jsxs)(I.a.Item,{onClick:function(){u(e.id)},className:"".concat(e.id===(null===s||void 0===s||null===(t=s.currentDepartment)||void 0===t?void 0:t.id)?"active":""),children:[Object(a.jsx)("span",{className:"small-column",children:e.acronym}),Object(a.jsx)("span",{children:e.name})]},e.id)}))})}),Object(a.jsx)(_.a,{children:Object(a.jsxs)(_.a.Link,{onClick:d,children:[Object(a.jsx)("span",{children:n("navbar.logout")}),Object(a.jsx)(G.a,{icon:M.v})]})})]})]})}var q=n(52),$=n(15),z=n(118),K=n(70),V=n(34),H=(n(96),function(e){var t=e.className,n=void 0===t?"":t,r=e.name,c=e.label,o=e.min,s=e.max,i=e.value,l=e.onChange;return Object(a.jsxs)("div",{className:"custom-date-picker ".concat(n),children:[c?Object(a.jsx)(z.a.Label,{children:c}):"",Object(a.jsxs)("div",{className:"date-wrapper",children:[Object(a.jsx)(z.a.Control,{type:"date",name:r,required:!0,onChange:function(e){return l(r,e.target.value)},min:o,max:s,value:i}),Object(a.jsx)("span",{className:"clear-input",onClick:function(){return l(r,"")},children:Object(a.jsx)(G.a,{icon:V.c})})]})]})}),J=(n(97),function(e){var t=e.className,n=e.label,r=e.name,c=e.placeholder,o=e.value,s=e.onChange,i=e.options,l=e.noOptionsLabel,u=e.textProperty,d=e.idProperty,m=void 0===d?"id":d,b=e.required,j=e.isValid,p=e.isInvalid,h=e.children;return Object(a.jsxs)("div",{className:"".concat(t," select-wrapper"),children:[n?Object(a.jsx)(z.a.Label,{children:n}):"",Object(a.jsxs)(z.a.Control,{as:"select",custom:!0,required:b,name:r,onChange:function(e){return s(r,e.target.value)},isValid:j,isInvalid:p,value:o,children:[Object(a.jsx)("option",{style:{display:i.length?"none":""},children:i.length?c:l},0),i.length&&i.sort((function(e,t){return e[u].localeCompare(t[u])})).map((function(e){return Object(a.jsx)("option",{value:e[m],children:e[u]},e[m])}))]}),Object(a.jsx)("input",{type:"checkbox",className:"select-has-value",checked:o&&o>0,readOnly:!0}),Object(a.jsx)("span",{className:"clear-input",onClick:function(){return s(r,0)},children:Object(a.jsx)(G.a,{icon:V.c})}),h]})}),W=function(e){var t=e.className,n=void 0===t?"":t,c=e.label,o=e.onChange,s=e.isValid,i=e.isInvalid,l=e.validationMessage,u=e.value,d=Object(S.a)().t,m=Object(r.useContext)(y).department,b=Object(r.useState)([]),p=Object(j.a)(b,2),h=p[0],f=p[1];return Object(r.useEffect)((function(){O("/categories",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(e){return f(e)}))}),[m]),Object(a.jsx)(J,{className:n,label:c,name:"category",isValid:s,isInvalid:i,onChange:o,options:h,placeholder:d("document.form.category.choose"),noOptionsLabel:d("document.form.category.zeroOptions"),textProperty:"fullName",value:u,children:i?Object(a.jsx)(z.a.Control.Feedback,{type:"invalid",children:l}):""})},Y=n(113),Q=function(e){var t=e.disabled,n=e.value,r=e.onChange,c=e.onSubmit;return Object(a.jsxs)(Y.a,{children:[Object(a.jsx)(Y.a.Prepend,{children:Object(a.jsx)(Y.a.Text,{id:"inputGroupPrepend",children:Object(a.jsx)(G.a,{icon:M.u})})}),Object(a.jsx)(z.a.Control,{id:"textInput",disabled:t,onChange:function(e){return r("text",e.target.value)},onKeyPress:function(e){return t||"Enter"!==e.code?null:c(e)},value:n,type:"text"})]})},Z=function(e){var t=e.label,n=e.onChange,r=e.value;return Object(a.jsx)(W,{className:"custom-input-group category-filter",label:t,onChange:n,value:r})},X=function(e){var t=e.labelFromDate,n=e.labelUntilDate,r=e.onChange,c=e.minDateValue,o=e.maxDateValue;return Object(a.jsxs)("div",{className:"custom-input-group date-filter",children:[Object(a.jsx)(H,{name:"minDate",label:t,onChange:r,max:o,value:c}),Object(a.jsx)(H,{name:"maxDate",label:n,onChange:r,min:c,value:o})]})},ee=function(e){var t=e.label,n=e.value,r=e.onClick;return Object(a.jsx)("div",{className:"custom-input-group user-filter",children:Object(a.jsx)(z.a.Check,{type:"checkbox",name:"myDocuments",custom:!0,id:"filterMyDocuments",onClick:function(e){return r("myDocuments",e.target.value)},label:t,value:n})})};n(98);function te(e){var t=e.isSearching,n=e.onSearch,c=Object(S.a)().t,o=Object(r.useContext)(y).department,s=Object(r.useState)(!1),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)({text:"",minDate:"",maxDate:"",category:"",myDocuments:!1}),m=Object(j.a)(d,2),b=m[0],p=m[1],h=function(e,t){"category"===e&&"-1"===t?t=0:"myDocuments"===e&&(t="false"===t),p(Object(N.a)(Object(N.a)({},b),{},Object($.a)({},e,t)))},f=function(e){if(e.preventDefault(),(c=b).text.trim().length>0||c.category||c.minDate||c.maxDate||c.myDocuments){var t=b.text,a=Object(T.a)(b,["text"]),r=t.trim();n(r,a),p(Object(N.a)(Object(N.a)({},b),{},{text:r}))}else window.alert("fill at least one input");var c};return Object(r.useEffect)((function(){return p((function(e){return Object(N.a)(Object(N.a)({},e),{},{category:0})}))}),[o]),Object(a.jsxs)(z.a,{className:"search-bar-form",noValidate:!0,onSubmit:f,children:[Object(a.jsx)(z.a.Group,{className:"search-form-group text-input-group",children:Object(a.jsx)(Q,{value:b.text,onChange:h,onSubmit:f})}),Object(a.jsxs)(z.a.Group,{className:"search-form-group filters-group ".concat(l?"":"hide"),children:[Object(a.jsx)(Z,{label:c("searchBar.filters.category"),onChange:h,value:b.category,placeholder:c("document.form.category.choose"),unselectOptionLabel:c("none",{context:"female"})}),Object(a.jsx)(X,{labelFromDate:c("searchBar.filters.date.from"),labelUntilDate:c("searchBar.filters.date.until"),onChange:h,minDateValue:b.minDate,maxDateValue:b.maxDate}),Object(a.jsx)(ee,{label:c("searchBar.filters.registeredByMe"),onClick:h,value:b.myDocuments})]}),Object(a.jsxs)(z.a.Group,{className:"search-form-group search-actions-group",children:[Object(a.jsx)("div",{className:"search-filters-toggle-box",children:Object(a.jsxs)(K.a,{className:"color-blue",onClick:function(){return u(!l)},variant:"link",children:["".concat(c("searchBar.".concat(l?"less":"more","FiltersButton"))," (").concat(Object.entries(b).filter((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return"text"!==n&&a})).length,")"),Object(a.jsx)(G.a,{className:"append",icon:l?M.b:M.a})]})}),Object(a.jsx)(K.a,{className:"search-btn border-color-blue bg-color-blue",disabled:t,variant:"primary",type:"submit",children:t?Object(a.jsx)(G.a,{icon:M.f,className:"faSpin"}):c("searchBar.searchButton")})]})]})}var ne=n(122);function ae(e){var t=e.numPages,n=e.activePage,c=e.onSearch,o=Object(r.useState)([]),s=Object(j.a)(o,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){var e=[],r=n-2,o=n+2;o>t&&(o=t,r=t-4),r<=1&&(r=1),e.push(Object(a.jsx)(ne.a.First,{onClick:function(){return c(1)},disabled:1===n},"first")),e.push(Object(a.jsx)(ne.a.Prev,{onClick:function(){return c(n-1)},disabled:1===n},"-"));for(var s=function(t){e.push(Object(a.jsx)(ne.a.Item,{onClick:function(){t!==n&&c(t)},active:t===n,children:t},t))},i=r;i<=o;i++)s(i);e.push(Object(a.jsx)(ne.a.Next,{onClick:function(){return c(n+1)},disabled:n>=t},"+")),e.push(Object(a.jsx)(ne.a.Last,{onClick:function(){return c(t)},disabled:n>=t},"last")),l(e)}),[t,n,c]),Object(a.jsx)(ne.a,{className:"tablePagination justify-content-end",children:i})}var re=n(114),ce=function(e){var t;switch(e=e||""){case"SUCCESS":t="success";break;case"FAILED":t="danger";break;case"PROCESSING":t="info";break;default:case"NOT_PROCESSED":t="secondary"}return Object(a.jsx)(re.a,{className:"capitalize",variant:t,children:e.toLowerCase()})},oe=n(115);n(99);function se(e){var t=e.refProp,n=e.documents,r=e.currentPage,c=e.numPages,o=e.deleteDocument,s=e.onSearch,i=e.expandResult,l=Object(S.a)().t,u=function(e){switch(e){case"application/pdf":return M.l;default:case"text/plain":return M.k}},d=function(e,t,n){O("/documents/".concat(e,"/download"),{method:"GET"}).then((function(e){if(e.ok)return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);if(n){var r=document.createElement("a");r.download=t,r.target="_blank",r.href=a,r.click()}else window.open(a,"_blank");window.URL.revokeObjectURL(a)}))};return Object(a.jsxs)("div",{ref:t,className:"docs-table",children:[Object(a.jsxs)(oe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("table.actions")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.title")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.summary")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.category")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.date")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.status")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.registeredBy")})})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{className:e.expand?"":"truncated",children:[Object(a.jsx)("td",{className:"actions",children:Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("span",{onClick:function(){return i(e.id)},children:Object(a.jsx)(G.a,{className:"icon",icon:e.expand?V.b:V.a})}),Object(a.jsx)("span",{onClick:function(){return d(e.id,e.fileName,!1)},children:Object(a.jsx)(G.a,{className:"icon",icon:u(e.mediaType)})}),Object(a.jsx)("span",{onClick:function(){return d(e.id,e.fileName,!0)},children:Object(a.jsx)(G.a,{className:"icon",icon:M.h})}),Object(a.jsx)(C.b,{to:"/documents/".concat(e.id),children:Object(a.jsx)(G.a,{className:"icon",icon:M.i})}),Object(a.jsx)("span",{onClick:function(){return o(e.id)},children:Object(a.jsx)(G.a,{className:"icon",icon:M.C})})]})}),Object(a.jsx)("td",{className:"title",children:Object(a.jsx)("p",{children:e.title})}),Object(a.jsx)("td",{className:"summary",children:Object(a.jsx)("p",{children:e.summary})}),Object(a.jsx)("td",{className:"category",children:Object(a.jsx)("p",{className:"center",children:e.fullCategoryHierarchy})}),Object(a.jsx)("td",{className:"date",children:Object(a.jsx)("p",{className:"center",children:e.formattedDate})}),Object(a.jsx)("td",{className:"status",children:Object(a.jsx)("p",{className:"center",children:ce(e.status)})}),Object(a.jsx)("td",{className:"user",children:Object(a.jsx)("p",{className:"center",children:e.registeredBy})})]},e.id)}))})]}),Object(a.jsx)(ae,{numPages:c,activePage:r,onSearch:s})]})}var ie=function(e){var t=e.currentQueryString,n=Object(S.a)().t;return Object(a.jsxs)("div",{className:"no-result-message-box",children:[Object(a.jsxs)("p",{children:[n("search.noResultFound.message.p1"),t.length?n("search.noResultFound.message.p2"):"",Object(a.jsx)("b",{style:{display:t.length?"inline-block":"none"},children:t}),n("search.noResultFound.message.p3")]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{style:{marginBottom:0},children:n("search.noResultFound.searchTips.title")}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item1")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item2")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item3")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item4")})]})]})]})};n(100);function le(){var e=Object(S.a)().t,t=Object(r.useRef)(null),n=Object(r.useContext)(y),c=n.checkPermission,o=n.department,s=Object(r.useState)(c("SEARCH_DOCS")),i=Object(j.a)(s,1)[0],l=Object(r.useState)(!1),u=Object(j.a)(l,2),d=u[0],m=u[1],b=Object(r.useState)(!1),p=Object(j.a)(b,2),h=p[0],f=p[1],v=Object(r.useState)([]),x=Object(j.a)(v,2),g=x[0],k=x[1],C=Object(r.useState)(""),w=Object(j.a)(C,2),N=w[0],T=w[1],E=Object(r.useState)(""),B=Object(j.a)(E,2),R=B[0],F=B[1],D=Object(r.useState)(1),A=Object(j.a)(D,2),P=A[0],_=A[1],I=Object(r.useState)(10),L=Object(j.a)(I,1)[0],G=Object(r.useState)(0),M=Object(j.a)(G,2),U=M[0],$=M[1];return Object(r.useEffect)((function(){k([]),m(null),f(!1)}),[o]),Object(a.jsxs)("div",{className:"search-page",children:[Object(a.jsx)("div",{className:"search-result ".concat(h?"active":""),children:i&&Object(a.jsx)("div",{children:h&&g.length?Object(a.jsx)(se,{refProp:t,documents:g,currentPage:P,numPages:Math.ceil(U/L),deleteDocument:function(e){O("/documents/".concat(e),{method:"DELETE"}).then((function(t){t.ok&&(window.alert("Document '".concat(e,"' deleted")),k(g.filter((function(t){return t.id!==e}))))}))},onSearch:function(n){m(!0),O("".concat(N,"&page=").concat(n,"&pageSize=").concat(L),{method:"GET"}).then((function(e){if(e.ok)return e.json();window.alert("Error searching documents")})).then((function(e){e&&(_(e.page||0),$(e.totalHits||0),k(e.results||[]),f(!0),e.totalHits&&t.current.scrollIntoView({block:"start",behavior:"smooth"}))})).catch((function(t){f(!1),window.alert(e("search.error"))})).finally((function(){return m(!1)}))},expandResult:function(e){var t=g.find((function(t){return t.id===e}));t.expand=!t.expand,k(Object(q.a)(g))}}):h&&!g.length?Object(a.jsx)(ie,{currentQueryString:R}):""})}),Object(a.jsx)("div",{className:"search-bar",children:i&&Object(a.jsx)(te,{isSearching:d,onSearch:function(n,a){F(n),m(!0);var r="/documents/search?";for(var c in a){var o=a[c];o&&(r+="".concat(c,"=").concat(encodeURI(o),"&"))}O(r+="q=".concat(encodeURI(n)),{method:"GET"}).then((function(e){if(e.ok)return T(r),e.json();window.alert("Error searching documents")})).then((function(e){e&&(_(e.page||0),$(e.totalHits||0),k(e.results||[]),f(!0),e.totalHits&&t.current.scrollIntoView({block:"start",behavior:"smooth"}))})).catch((function(t){f(!1),window.alert(e("search.error"))})).finally((function(){return m(!1)}))}})}),Object(a.jsx)("div",{className:"search-header",children:Object(a.jsx)("h1",{children:"UNIRIO GED App"})})]})}n(60);function ue(){var e=Object(S.a)().t;return Object(a.jsxs)("div",{className:"page-not-found",children:[Object(a.jsx)("h1",{children:e("pageNotFound.title")}),Object(a.jsx)("h2",{children:e("pageNotFound.subtitle")}),Object(a.jsx)("p",{className:"message",children:e("pageNotFound.message")}),Object(a.jsx)("a",{href:"/",children:e("pageNotFound.home")}),Object(a.jsx)("p",{className:"contactUs",children:e("pageNotFound.contactUs")})]})}function de(){return Object(a.jsx)("div",{className:"page-not-found",children:Object(a.jsx)("h2",{children:"MANAGE CATEGORIES"})})}var me=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(b.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({acronym:t,name:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(b.a)(m.a.mark((function e(t,n,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({acronym:n,name:a})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/".concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=n(39),Oe=n(120),ve=function(e){var t=e.icon,n=e.tooltip,r=void 0===n?"":n,c=e.active,o=void 0!==c&&c,s=e.onClick,i=e.append,l=Object(Oe.a)();return Object(a.jsxs)("span",{className:"icon ".concat(o?"active":""),"data-for":l,"data-tip":r,onClick:function(e){return s(e)},children:[Object(a.jsx)(G.a,{className:"icon",icon:t}),i,Object(a.jsx)(A.a,{id:l})]})},xe=function(e){var t=e.icon,n=void 0===t?M.s:t,r=e.i18nTooltipKey,c=e.active,o=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(r,s("customButtons.add.tooltip")),active:c,onClick:o})},ge=function(e){var t=e.icon,n=void 0===t?M.r:t,r=e.i18nTooltipKey,c=e.onClick,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(r,o("customButtons.edit.tooltip")),onClick:function(e){return c(e)}})},ye=function(e){var t=e.icon,n=void 0===t?M.d:t,r=e.i18nTooltipKey,c=e.onClick,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(r,o("customButtons.confirm.tooltip")),onClick:function(e){return c(e)}})},ke=function(e){var t=e.icon,n=void 0===t?M.c:t,r=e.i18nTooltipKey,c=e.onClick,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(r,o("customButtons.cancel.tooltip")),onClick:function(e){return c(e)}})},Ce=function(e){var t=e.icon,n=void 0===t?M.m:t,r=e.i18nTooltipKey,c=e.active,o=e.onClick,s=e.activeFilterCount,i=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:i(r,i("customButtons.filter.tooltip")),active:c,onClick:o,append:Object(a.jsx)("span",{className:"activeFilterCount",children:!!s&&"(".concat(s,")")})})},we=function(e){var t=e.icon,n=void 0===t?M.C:t,r=e.i18nTooltipKey,c=e.onClick,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(r,o("customButtons.delete.tooltip")),onClick:function(e){return c(e)}})},Ne=function(e){var t=e.icon,n=void 0===t?M.B:t,r=e.i18nTooltipKey,c=e.onClick,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(r,o("customButtons.clear.tooltip")),onClick:c})},Te=function(e){var t,n,r,c,o,s,i,l,u,d,m,b,j=e.activeFilterCount,p=e.actions,h=e.domain,f=e.isAdding,O=e.isFiltering,v=e.isBatchEditing,x=e.onClickAddBtn,g=e.onClickEditBtn,y=e.onClickCancelEditBtn,k=e.onClickConfirmEditBtn,C=e.onClickFilterBtn,w=!(null===(t=p.add)||void 0===t?void 0:t.disabled)&&(null===(n=p.add)||void 0===n?void 0:n.callbackFn),N=!(null===(r=p.batchEdit)||void 0===r?void 0:r.disabled)&&(null===(c=p.batchEdit)||void 0===c?void 0:c.callbackFn),T=!(null===(o=p.filter)||void 0===o?void 0:o.disabled);return Object(a.jsx)(a.Fragment,{children:v?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ye,{icon:null===(u=p.batchEdit)||void 0===u||null===(d=u.confirm)||void 0===d?void 0:d.icon,onClick:function(){return k()},i18nTooltipKey:"".concat(h,".customTable.actions.batchEdit.confirmBtn.tooltip")}),Object(a.jsx)(ke,{icon:null===(m=p.batchEdit)||void 0===m||null===(b=m.cancel)||void 0===b?void 0:b.icon,onClick:function(){return y()},i18nTooltipKey:"".concat(h,".customTable.actions.batchEdit.cancelBtn.tooltip")})]}):Object(a.jsxs)(a.Fragment,{children:[w&&Object(a.jsx)(xe,{active:f,icon:null===(s=p.add)||void 0===s?void 0:s.icon,onClick:function(){return x()},i18nTooltipKey:"".concat(h,".customTable.actions.addBtn.tooltip")}),N&&Object(a.jsx)(ge,{icon:null===(i=p.batchEdit)||void 0===i?void 0:i.icon,onClick:function(){return g()},i18nTooltipKey:"".concat(h,".customTable.actions.batchEditBtn.tooltip")}),T&&Object(a.jsx)(Ce,{active:O,activeFilterCount:j,icon:null===(l=p.filter)||void 0===l?void 0:l.icon,onClick:function(){return C()},i18nTooltipKey:"".concat(h,".customTable.actions.filterBtn.tooltip")})]})})},Ee=function(e){var t,n,r,c,o,s,i,l,u,d,m=e.actions,b=e.domain,j=e.dataId,p=e.isBatchEditing,h=e.isEditingRow,f=e.onClickEditBtn,O=e.onClickConfirmEditBtn,v=e.onClickCancelEditBtn,x=e.onClickDeleteBtn,g=!(null===(t=m.edit)||void 0===t?void 0:t.disabled)&&(null===(n=m.edit)||void 0===n?void 0:n.callbackFn),y=!(null===(r=m.delete)||void 0===r?void 0:r.disabled)&&(null===(c=m.delete)||void 0===c?void 0:c.callbackFn);return Object(a.jsx)(a.Fragment,{children:!p&&(h?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ye,{icon:null===(i=m.edit)||void 0===i||null===(l=i.confirm)||void 0===l?void 0:l.icon,onClick:function(){return O(j)},i18nTooltipKey:"".concat(b,".customTable.actions.edit.confirmBtn.tooltip")}),Object(a.jsx)(ke,{icon:null===(u=m.edit)||void 0===u||null===(d=u.cancel)||void 0===d?void 0:d.icon,onClick:function(){return v(j)},i18nTooltipKey:"".concat(b,".customTable.actions.edit.cancelBtn.tooltip")})]}):Object(a.jsxs)(a.Fragment,{children:[g&&Object(a.jsx)(ge,{icon:null===(o=m.edit)||void 0===o?void 0:o.icon,onClick:function(){return f(j)},i18nTooltipKey:"".concat(b,".customTable.actions.editBtn.tooltip")}),y&&Object(a.jsx)(we,{icon:null===(s=m.delete)||void 0===s?void 0:s.icon,onClick:function(){return x(j)},i18nTooltipKey:"".concat(b,".customTable.actions.deleteBtn.tooltip")})]}))})},Se=function(e,t){switch(e){case"file":return(r=t)?r.size?r.name.match(/^.*?\.(doc|docx|docm|eml|epub|odf|odt|pdf|rtf|rtx|txt|text)$/gi)?"":"invalidFileType":"emptyContentFile":"fileRequired";case"title":return t.length?"":"titleRequired";case"category":return t<=0?"categoryRequired":"";case"userPermissions.email":return(a=t).match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/g)?["@edu.unirio.br","@uniriotec.br"].some((function(e){return a.includes(e)}))?"":"invalidDomain":"invalidEmailFormat";case"departments.acronym":return(n=t).includes(" ")?"cantContainWhitespaces":n.length>5?"acronymMaxLength":"";default:return""}var n,a,r},Be=function(e){var t=e.domain,n=e.disabled,r=e.property,c=e.value,o=e.onChange,s=Object(S.a)().t,i=function(e){var t=e.label,i=e.checkBoolType;return Object(a.jsx)(z.a.Check,{custom:!0,type:"checkbox",id:"".concat(r,"-").concat(i),label:t||s("customTable.filterRow.boolean.".concat(i)),disabled:n||c&&c!==i,onChange:function(e){return o(e.currentTarget.checked?i:"")},checked:c===i})};return Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("div",{className:"boolean-filter",children:[Object(a.jsx)(i,{checkBoolType:"y",label:s("".concat(t,".customTable.filterRow.").concat(r,".y"),"")}),Object(a.jsx)(i,{checkBoolType:"n",label:s("".concat(t,".customTable.filterRow.").concat(r,".n"),"")})]})})},Re=function(e){var t=e.domain,n=e.disabled,r=e.property,c=e.value,o=e.onChange,s=Object(S.a)().t;return Object(a.jsx)("div",{children:Object(a.jsx)(z.a.Control,{type:"text",disabled:n,onChange:function(e){return o(e.target.value)},placeholder:s("".concat(t,".customTable.filterRow.").concat(r,".placeholder"),"")||s("customTable.filterRow.text.placeholder"),value:c||"",size:"sm"})})},Fe=function(e){var t=e.columns,n=e.domain,c=e.disabled,o=void 0!==c&&c,s=e.addBtnIcon,i=e.onAdd,l=Object(S.a)().t,u=Object(r.useState)({}),d=Object(j.a)(u,2),m=d[0],b=d[1],p=Object(r.useState)({}),h=Object(j.a)(p,2),f=h[0],O=h[1],v=l("customTable.addRow.text.placeholder"),x=l("".concat(n,".customTable.addRow.addBtn.tooltip"),"")?"".concat(n,".customTable.addRow.addBtn.tooltip"):"customTable.addRow.addBtn.tooltip",g=function(e){var n=Object.entries(t).filter((function(t){var n,a=Object(j.a)(t,2),r=a[0],c=a[1];return(null===c||void 0===c?void 0:c.requiredOnAdd)&&!(null===(n=e[r])||void 0===n?void 0:n.length)}));if(n.length>0){var a={};n.forEach((function(e){var t=Object(j.a)(e,1)[0];a=Object(N.a)(Object(N.a)({},a),{},Object($.a)({},t,"mandatoryField"))})),O(Object(N.a)(Object(N.a)({},f),a))}else Object.entries(t).filter((function(e){var t=Object(j.a)(e,2),n=(t[0],t[1]);return null===n||void 0===n?void 0:n.requiredOnAdd})).every((function(e){var t=Object(j.a)(e,2),n=t[0];t[1];return""===f[n]}))&&(i(e),b({}),O({}))};return Object(a.jsxs)("tr",{className:"extra-row add-row",children:[Object.entries(t).map((function(e,t,r){var c,s=Object(j.a)(e,2),i=s[0],u=s[1],d=null===u||void 0===u?void 0:u.requiredOnAdd,p=r.findIndex((function(e,n){var a=Object(j.a)(e,2),r=(a[0],a[1]);return n<t&&r.requiredOnAdd})),h=r.findIndex((function(e,n){var a=Object(j.a)(e,2),r=(a[0],a[1]);return n>t&&r.requiredOnAdd})),x=r.slice(t,-1===h?r.length:h).length;return(d||-1===p)&&Object(a.jsx)("td",{colSpan:x,children:(null===u||void 0===u?void 0:u.requiredOnAdd)&&Object(a.jsx)("div",{className:u.class,children:Object(a.jsxs)(z.a.Group,{className:"textbox",children:[Object(a.jsx)(z.a.Control,{disabled:o,placeholder:l("".concat(n,".customTable.addRow.").concat(i,".placeholder"),v),onChange:function(e){return function(e,t){b(e?t?Object(N.a)(Object(N.a)({},m),{},Object($.a)({},e,t)):function(){return m[e],Object(T.a)(m,[e].map(fe.a))}:{}),O(Object(N.a)(Object(N.a)({},f),{},Object($.a)({},e,Se("".concat(n,".").concat(e),t))))}(i,e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&g(m)},isValid:(null===m||void 0===m||null===(c=m[i])||void 0===c?void 0:c.trim().length)>0&&!f[i],isInvalid:f[i],value:(null===m||void 0===m?void 0:m[i])||"",type:"text",size:"sm"}),Object(a.jsx)(z.a.Control.Feedback,{type:"invalid",tooltip:!0,children:l("".concat(n,".customTable.addRow.validation.").concat(f[i]),l("customTable.addRow.validation.".concat(f[i])))})]})})},i)})),Object(a.jsx)("td",{children:!o&&Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(xe,{icon:s,i18nTooltipKey:x,onClick:function(){return g(m)}})})})]},"0")},De=function(e){var t=e.domain,n=e.disabled,a=e.property,r=e.onChange,o=e.type,s=e.value;return c.a.createElement(function(e){switch(e){case"boolean":return Be;case"text":default:return Re}}(o),{domain:t,disabled:n,property:a,onChange:r,value:s})},Ae=function(e){var t=e.clearBtnIcon,n=e.columns,r=e.domain,c=e.disabled,o=void 0!==c&&c,s=e.filterMap,i=e.onFilter,l=(0,Object(S.a)().t)("".concat(r,".customTable.filterRow.clearBtn.tooltip"),"")?"".concat(r,".customTable.filterRow.clearBtn.tooltip"):"customTable.filterRow.clearBtn.tooltip";return Object(a.jsxs)("tr",{className:"extra-row filter-row",children:[Object.entries(n).map((function(e){var t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.jsx)("td",{children:(null===c||void 0===c?void 0:c.filterable)&&Object(a.jsx)("div",{className:c.class,children:Object(a.jsx)(De,{domain:r,disabled:o,onChange:function(e){return i(n,e)},property:n,type:null===c||void 0===c?void 0:c.type,value:null===s||void 0===s?void 0:s[n]})})},n)})),Object(a.jsx)("td",{children:!o&&Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(Ne,{icon:t,i18nTooltipKey:l,onClick:function(){return i()}})})})]},"0")},Pe=function(e){var t=e.isEditing,n=e.onChange,r=e.value,c=e.disguise;return!t&&c||Object(a.jsx)(z.a.Check,{checked:!!r||!1,className:"check-input",disabled:!t,onChange:function(e){return n(e.currentTarget.checked)},type:"checkbox"})},_e=function(e){var t=e.isEditing,n=e.onChange,r=e.value;return t?Object(a.jsx)(z.a.Control,{onChange:function(e){return n(e.target.value)},defaultValue:r||"",type:"text",size:"sm"}):(null===r||void 0===r?void 0:r.trim())||""},Ie=function(e){var t=e.isEditing,n=e.onChange,a=e.type,r=e.value,o=e.disguise;return c.a.createElement(function(e){switch(e){case"boolean":return Pe;case"text":default:return _e}}(a),{isEditing:t,onChange:n,value:r,disguise:o})},Le=function(e){var t=e.icon,n=e.tooltip,r=void 0===n?"":n,c=Object(Oe.a)();return Object(a.jsxs)("span",{"data-for":c,"data-tip":r,children:[Object(a.jsx)(G.a,{className:"icon",icon:t}),Object(a.jsx)(A.a,{id:c})]})},Ge=(n(101),function(e){var t,n,c=e.actions,o=void 0===c?{filter:{}}:c,s=e.columns,i=void 0===s?{}:s,l=e.data,u=void 0===l?[]:l,d=e.domain,p=e.pageSize,h=void 0===p?10:p,f=Object(r.useState)(!1),O=Object(j.a)(f,2),v=O[0],x=O[1],g=Object(r.useState)(!1),y=Object(j.a)(g,2),k=y[0],C=y[1],w=Object(r.useState)(!1),E=Object(j.a)(w,2),S=E[0],B=E[1],R=Object(r.useState)({}),F=Object(j.a)(R,2),D=F[0],A=F[1],P=Object(r.useState)([]),_=Object(j.a)(P,2),I=_[0],L=_[1],G=Object(r.useState)({}),U=Object(j.a)(G,2),q=U[0],z=U[1],K=Object(r.useState)(),V=Object(j.a)(K,2),H=V[0],J=V[1],W=Object(r.useState)("ASC"),Y=Object(j.a)(W,2),Q=Y[0],Z=Y[1],X=Object(r.useState)(1),ee=Object(j.a)(X,2),te=ee[0],ne=ee[1];Object(r.useEffect)((function(){var e;x(!1),C(!1),B(!1),A({}),L([]),z({}),J(null===(e=Object.entries(i).find((function(e){var t=Object(j.a)(e,2);t[0];return t[1].sort})))||void 0===e?void 0:e[0]),Z("ASC"),ne(1)}),[i]),Object(r.useEffect)((function(){if(u.length){L(u.filter((function(e){return Object.entries(q).some((function(t){return!function(e,t){var n,a,r,c=Object(j.a)(t,2),o=c[0],s=c[1];switch(null===i||void 0===i||null===(n=i[o])||void 0===n?void 0:n.type){case"boolean":return a=e[o],!(r=s)||"y"===r&&a||"n"===r&&!a;case"text":default:return function(e,t){return!t||e.toLowerCase().includes(t.toLowerCase())}(e[o],s)}}(e,t)}))})).map((function(e){return e.id})))}}),[i,u,q]),Object(r.useEffect)((function(){var e=Math.ceil((u.length-I.length)/h)||1;te>e&&ne(e)}),[I,te,u,h]);var re=function(e){if(Object.keys(D).includes(e.toString())){D[e];var t=Object(T.a)(D,[e].map(fe.a));A(t)}else A(Object(N.a)(Object(N.a)({},D),{},Object($.a)({},e,{})))},ce=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r,c,s,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=o.edit)||void 0===n?void 0:n.disabled)||!(null===(a=o.edit)||void 0===a?void 0:a.callbackFn)){e.next=12;break}if(c=D[t],!(s=Object.entries(c)).length||!s.some((function(e){var n=Object(j.a)(e,2),a=n[0],r=n[1];return("string"===typeof r?r.trim():r)!==u.find((function(e){return e.id===t}))[a]}))){e.next=9;break}return e.next=6,null===(r=o.edit)||void 0===r?void 0:r.callbackFn(t,c);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=!0;case 10:(i=e.t0)?(D[t],l=Object(T.a)(D,[t].map(fe.a)),A(l),i&&console.log("Edit successful")):console.log("Edit failed");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){S&&A({}),B(!S)},ie=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=o.batchEdit)||void 0===t?void 0:t.disabled)||!(null===(n=o.batchEdit)||void 0===n?void 0:n.callbackFn)){e.next=11;break}if(!(r=Object.entries(D)).length||!r.some((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object.entries(a).some((function(e){var t=Object(j.a)(e,2),r=t[0];t[1];return("string"===typeof a?a.trim():a)!==u.find((function(e){return e.id===Number(n)}))[r]}))}))){e.next=8;break}return e.next=5,null===(a=o.batchEdit)||void 0===a?void 0:a.callbackFn(r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=!0;case 9:(c=e.t0)?(A({}),B(!1),c&&console.log("Batch edit successful")):console.log("Batch edit failed");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=o.add)||void 0===n?void 0:n.disabled)||!o.add.callbackFn){e.next=5;break}return e.next=3,o.add.callbackFn(t);case 3:e.sent?console.log("Add successful"):console.log("Add failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=o.delete)||void 0===n?void 0:n.disabled)||!o.delete.callbackFn){e.next=5;break}return e.next=3,o.delete.callbackFn(t);case 3:e.sent?console.log("Delete successful"):console.log("Delete failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e,t){return z(e?t?Object(N.a)(Object(N.a)({},q),{},Object($.a)({},e,t)):function(){q[e];return Object(T.a)(q,[e].map(fe.a))}:{})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(oe.a,{className:"customTable",striped:!0,size:"sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object.entries(i).map((function(e){var t,n=Object(j.a)(e,2),r=n[0],c=n[1];return Object(a.jsx)("th",{width:c.width,children:Object(a.jsx)("div",{className:c.class,children:Object(a.jsxs)("span",{className:"sort-header",onClick:function(){return function(e){return Z(e===H?"DESC"===Q?"ASC":"DESC":function(){return J(e),"ASC"})}(r)},children:[c.header,r===H&&Object(a.jsx)(Le,{icon:(t=c.type,"text"===t?"ASC"===Q?M.w:M.x:"ASC"===Q?M.y:M.z)})]})})},r)})),!!Object.keys(o).some((function(e){var t;return!(null===(t=o[e])||void 0===t?void 0:t.disabled)}))&&Object(a.jsx)("th",{width:"120px",children:Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(Te,{actions:o,activeFilterCount:Object.keys(q).length,domain:d,isAdding:v,onClickAddBtn:function(){!v&&k&&C(!1),x(!v)},isFiltering:k,onClickFilterBtn:function(){return!k&&v&&x(!1),k&&de(),void C(!k)},isBatchEditing:S,onClickEditBtn:function(){return se()},onClickConfirmEditBtn:function(){return ie()},onClickCancelEditBtn:function(){return se()}})})})]})}),Object(a.jsxs)("tbody",{children:[v&&Object(a.jsx)(Fe,{columns:i,domain:d,disabled:S,addBtnIcon:null===o||void 0===o||null===(t=o.add)||void 0===t?void 0:t.rowActionIcon,onAdd:function(e){return le(e)}}),k&&Object(a.jsx)(Ae,{clearBtnIcon:null===o||void 0===o||null===(n=o.filter)||void 0===n?void 0:n.rowActionIcon,columns:i,domain:d,disabled:S,filterMap:q,onFilter:function(e,t){return de(e,t)}}),u.filter((function(e){return!I.includes(e.id)})).sort((function(e,t){var n;switch(null===i||void 0===i||null===(n=i[H])||void 0===n?void 0:n.type){case"boolean":return e[H]===t[H]?0:e[H]?"ASC"===Q?-1:1:"ASC"===Q?1:-1;case"text":return"ASC"===Q?e[H].localeCompare(t[H]):t[H].localeCompare(e[H]);case"number":return"ASC"===Q?e[H]-t[H]:t[H]-e[H];default:return"ASC"===Q?e.id-t.id:t.id-e.id}})).slice((te-1)*h,te*h<u.length-I.length?te*h:u.length-I.length).map((function(e){var t,n=D[null===(t=e.id)||void 0===t?void 0:t.toString()];return Object(a.jsxs)("tr",{children:[Object.entries(i).map((function(t){var r,c=Object(j.a)(t,2),o=c[0],s=c[1];return Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:null===s||void 0===s?void 0:s.class,children:Object(a.jsx)(Ie,{disguise:null===s||void 0===s||null===(r=s.disguise)||void 0===r?void 0:r[e[o]],isEditing:(S||!!n)&&!1!==(null===s||void 0===s?void 0:s.editable),onChange:function(t){return function(e,t,n){return A(Object(N.a)(Object(N.a)({},D),{},Object($.a)({},e,Object(N.a)(Object(N.a)({},D[e]),{},Object($.a)({},t,n)))))}(e.id,o,t)},type:null===s||void 0===s?void 0:s.type,value:void 0===(null===n||void 0===n?void 0:n[o])?e[o]:n[o]})})},o)})),!!Object.keys(o).some((function(e){var t;return!(null===(t=o[e])||void 0===t?void 0:t.disabled)}))&&Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(Ee,{actions:o,dataId:e.id,isBatchEditing:S,isEditingRow:!!n,onClickEditBtn:function(e){return re(e)},onClickConfirmEditBtn:function(e){return ce(e)},onClickCancelEditBtn:function(e){return re(e)},onClickDeleteBtn:function(e){return ue(e)}})})})]},e.id)}))]})]}),Object(a.jsx)(ae,{numPages:Math.ceil((u.length-I.length)/h)||1,activePage:te,onSearch:function(e){return ne(e)}})]})}),Me=function(e){var t=e.canAddDept,n=e.canEditDept,c=e.canDeleteDept,o=Object(S.a)().t,s=Object(r.useState)([]),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(r.useContext)(y),p=d.department,h=d.user,f=d.setLoggedUserInfo,O=Object(r.useCallback)(Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=u,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){return O()}),[O]);var v=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(null===(n=t.acronym)||void 0===n?void 0:n.trim(),null===(a=t.name)||void 0===a?void 0:a.trim());case 2:if(!(r=e.sent).ok){e.next=7;break}return e.next=6,O();case 6:f();case 7:return e.abrupt("return",r.ok);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[O,f]),x=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t,null===(a=n.acronym)||void 0===a?void 0:a.trim(),null===(r=n.name)||void 0===r?void 0:r.trim());case 2:if(!(c=e.sent).ok){e.next=7;break}return e.next=6,O();case 6:(null===h||void 0===h||null===(o=h.departments)||void 0===o?void 0:o.some((function(e){return e.id===Number(t)})))&&f();case 7:return e.abrupt("return",c.ok);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[h,O,f]),g=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t.map((function(e){var t,n,a=Object(j.a)(e,2),r=a[0],c=a[1];return{id:r,acronym:null===(t=c.acronym)||void 0===t?void 0:t.trim(),name:null===(n=c.name)||void 0===n?void 0:n.trim()}})));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,O();case 6:t.some((function(e){var t,n=Object(j.a)(e,1)[0];return null===h||void 0===h||null===(t=h.departments)||void 0===t?void 0:t.some((function(e){return e.id===Number(n)}))}))&&f();case 7:return e.abrupt("return",n.ok);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,O,f]),k=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,O();case 6:(null===h||void 0===h||null===(a=h.departments)||void 0===a?void 0:a.some((function(e){return e.id===Number(t)})))&&f();case 7:return e.abrupt("return",n.ok);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,O,f]),C={add:{disabled:!t,callbackFn:v},batchEdit:{disabled:!n,icon:M.i,callbackFn:g},edit:{disabled:!n,callbackFn:x},delete:{disabled:!c,callbackFn:k},filter:{}},w={isCurrentDept:{class:"text-align-end",editable:!1,type:"boolean",width:"32px",disguise:{true:Object(a.jsx)(Le,{icon:M.e,tooltip:o("departments.table.data.isCurrentDept.y")}),false:Object(a.jsx)(a.Fragment,{})}},acronym:{class:"center",header:o("departments.table.headers.acronym"),filterable:!0,requiredOnAdd:!0,sort:!0,type:"text",width:"150px"},name:{header:o("departments.table.headers.name"),filterable:!0,requiredOnAdd:!0,type:"text"}},T=l.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{isCurrentDept:e.id===p.id})}));return Object(a.jsx)(Ge,{actions:C,columns:w,data:T,domain:"departments"})};n(61);function Ue(){var e=Object(S.a)().t,t=(0,Object(r.useContext)(y).checkPermission)("MANAGE_DEPARTMENTS");return Object(a.jsxs)("div",{className:"header-n-table-div",children:[Object(a.jsx)("h1",{children:e("departments.page.header")}),Object(a.jsx)(Me,{canAddDept:t,canEditDept:t,canDeleteDept:!1})]})}var qe=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users",{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/permissions/".concat(t),{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/invite",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email=".concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(b.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/".concat(t,"/permission"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/permission",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/".concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){var t=e.canInviteUsers,n=e.canEditUserPermissions,c=e.canDeleteUsers,o=e.type,s=Object(S.a)().t,i=Object(r.useState)([]),l=Object(j.a)(i,2),u=l[0],d=l[1],p=Object(r.useState)([]),h=Object(j.a)(p,2),f=h[0],O=h[1],v=Object(r.useContext)(y),x=v.department,g=v.user,k=v.setLoggedUserInfo,C=Object(r.useCallback)(Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=d,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){return C()}),[C,x,o]);var w=Object(r.useCallback)(Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(o);case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=O,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),[o]);Object(r.useEffect)((function(){return w()}),[w,o]);var T=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t.email);case 2:if(!(n=e.sent).ok){e.next=6;break}return e.next=6,C();case 6:return e.abrupt("return",n.ok);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),E=function(e,t,n){var a,r;return null===e||void 0===e||null===(a=e.find((function(e){return e.id===Number(t)})))||void 0===a||null===(r=a.permissions)||void 0===r?void 0:r.filter((function(e){return n.includes(e)}))},B=Object(r.useCallback)((function(e,t){return Object.entries(t).reduce((function(e,t){var n=Object(j.a)(t,2);return function(e,t,n){return e.includes(t)?n?e:e.filter((function(e){return e!==t})):[].concat(Object(q.a)(e),[t])}(e,n[0],n[1])}),e)}),[]),R=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t,B(E(u,t,f),n));case 2:if(!(a=e.sent).ok){e.next=7;break}return e.next=6,C();case 6:(null===g||void 0===g?void 0:g.id)===Number(t)&&k();case 7:return e.abrupt("return",a.ok);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[f,g,u,C,k,B]),F=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(Object.fromEntries(t.map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return[n,B(E(u,n,f),a)]}))));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,C();case 6:t.some((function(e){var t=Object(j.a)(e,1)[0];return(null===g||void 0===g?void 0:g.id)===Number(t)}))&&k();case 7:return e.abrupt("return",n.ok);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,g,u,C,k,B]),D=Object(r.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,C();case 6:(null===g||void 0===g?void 0:g.id)===Number(t)&&k();case 7:return e.abrupt("return",n.ok);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,C,k]),A={add:{disabled:!t,callbackFn:T,icon:M.F,rowActionIcon:M.q},batchEdit:{disabled:!n,callbackFn:F,icon:M.i},edit:{disabled:!n,callbackFn:R},delete:{disabled:!c,callbackFn:D},filter:{}},P=Object(N.a)({status:{class:"center",disguise:{true:Object(a.jsx)(Le,{icon:M.D,tooltip:s("user.table.data.status.y.tooltip")}),false:Object(a.jsx)(Le,{icon:M.t,tooltip:s("user.table.data.status.n.tooltip")})},editable:!1,filterable:!0,header:s("user.table.headers.status"),type:"boolean",width:"104px"},email:{header:s("user.table.headers.email"),editable:!1,filterable:!0,requiredOnAdd:!0,sort:!0,type:"text",width:"240px"},fullName:{header:s("user.table.headers.username"),editable:!1,filterable:!0,type:"text",width:"280px"}},Object.fromEntries(f.map((function(e){return[e,{class:"center",header:s("user.table.headers.permission.".concat(e.toLowerCase())),filterable:!0,type:"boolean"}]})))),_=u.map((function(e){var t;return Object(N.a)(Object(N.a)({},e),{},{status:(null===(t=e.fullName)||void 0===t?void 0:t.trim().length)>0},Object.fromEntries(f.map((function(t){return[t,e.permissions.includes(t)]}))))}));return Object(a.jsx)(Ge,{actions:A,columns:P,data:_,domain:"userPermissions"})};function We(e){var t=e.permissionType,n=Object(S.a)().t,c=Object(r.useContext)(y),o=c.checkPermission,s=c.department;return Object(a.jsxs)("div",{className:"header-n-table-div",children:[Object(a.jsxs)("h1",{children:[n("users.".concat(t,".page.header"))," - ",null===s||void 0===s?void 0:s.acronym]}),Object(a.jsx)(Je,{canInviteUsers:"department"===t&&o("INVITE_USERS"),canEditUserPermissions:"department"===t&&o("MANAGE_DEPT_PERM")||"system"===t&&o("MANAGE_SYSTEM_PERM"),canDeleteUsers:!1,type:t})]})}var Ye=n(71),Qe=(n(102),function(){var e,t=Object(S.a)().t,n=Object(w.g)().docId,c=Object(r.useContext)(y),o=c.user,s=c.department,i=c.checkPermission,l=Object(r.useState)(null),u=Object(j.a)(l,2),d=u[0],m=u[1],b=Object(r.useState)({}),p=Object(j.a)(b,2),h=p[0],f=p[1],v=Object(r.useMemo)((function(){return{title:"",summary:"",category:0,date:(new Date).toISOString().split("T")[0],file:void 0}}),[]),x=Object(r.useState)(v),g=Object(j.a)(x,2),k=g[0],C=g[1];Object(r.useEffect)((function(){d&&m(null)}),[d]),Object(r.useEffect)((function(){return C((function(e){return Object(N.a)(Object(N.a)({},e),{},{category:0})}))}),[s]),Object(r.useEffect)((function(){n&&n!==k.id?O("/documents/".concat(n),{method:"GET"}).then((function(e){if(e.ok)return e.json();m("/404")})).then((function(e){e&&C(Object(N.a)(Object(N.a)({},e),{},{file:{name:e.fileName,size:-1}}))})):!n&&k.id?(C(v),f({})):k.tenant&&k.tenant!==s.acronym.toLowerCase()&&m("/documents")}),[n,k.id,k.tenant,s,v]);var E=function(e,t){f(Object(N.a)(Object(N.a)({},h),{},Object($.a)({},e,Se(e,t)))),C(Object(N.a)(Object(N.a)({},k),{},Object($.a)({},e,t)))},B=function(e){var t=k,n=h,a=e.target.name,r=e.target.value;if("uploadFile"===a){var c=e.target.files;if(!c.length)return;if(a="file",r=c[0],!k.title){var o=c[0].name.replace(/\.\w+?$/g,"");t=Object(N.a)(Object(N.a)({},t),{},{title:o}),n=Object(N.a)(Object(N.a)({},n),{},{title:Se("title",o)})}}f(Object(N.a)(Object(N.a)({},n),{},Object($.a)({},a,Se(a,r)))),C(Object(N.a)(Object(N.a)({},t),{},Object($.a)({},a,r)))},R=function(){var e=k.file,t=Object(T.a)(k,["file"]);t=Object(N.a)(Object(N.a)({},t),{},{tenant:s.acronym.toLowerCase(),registeredBy:o.id,registeredAt:(new Date).toISOString()}),k.id&&k.file.name===k.fileName&&-1===k.file.size&&(e=void 0),F(t,e,!!k.id)},F=function(e,t,a){var r=new FormData;r.append("file",t),r.append("document",new Blob([JSON.stringify(e)],{type:"application/json"})),O("/documents".concat(a?"/".concat(n):""),{method:a?"PATCH":"POST",headers:{Accept:"application/json"},body:r}).then((function(e){if(e.ok)return e.json()})).then((function(e){e&&m("/documents/".concat(e.id))}))};return d?Object(a.jsx)(w.a,{to:d}):!n&&!i("ADD_DOCS")||n&&k.registeredBy!==o.id&&!i("EDIT_DOCS_OTHERS")?Object(a.jsx)("div",{children:"Unauthorized page here"}):Object(a.jsx)("div",{className:"document-details-page",children:Object(a.jsxs)(z.a,{className:"document-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){var n={};return Object.entries(e).forEach((function(e){var t=Object(j.a)(e,2),a=t[0],r=t[1];return n[a]=Se(a,r)})),t&&t(n),Object.values(n).every((function(e){return!e}))}(k,f)&&R()},children:[Object(a.jsx)("h1",{children:t("document.form.".concat(n?"edit":"add",".title"))}),Object(a.jsx)(z.a.Row,{children:Object(a.jsxs)(z.a.Group,{as:Ye.a,controlId:"docForm.fileName",children:[Object(a.jsx)(z.a.Label,{children:t("document.form.file")}),Object(a.jsxs)(z.a.File,{id:"doc",custom:!0,children:[Object(a.jsx)(z.a.File.Input,{name:"uploadFile",required:!0,onChange:B,isInvalid:h.file}),Object(a.jsx)(z.a.File.Label,{"data-browse":t("document.form.file.choose"),children:(null===(e=k.file)||void 0===e?void 0:e.name)||t("document.form.file.placeholder")}),Object(a.jsx)(z.a.Control.Feedback,{type:"invalid",children:t("document.form.validation.".concat(h.file))})]})]})}),Object(a.jsxs)(z.a.Row,{children:[Object(a.jsxs)(z.a.Group,{as:Ye.a,controlId:"docForm.title",children:[Object(a.jsx)(z.a.Label,{children:t("document.title")}),Object(a.jsx)(z.a.Control,{type:"text",name:"title",required:!0,onChange:B,isInvalid:h.title,value:k.title}),Object(a.jsx)(z.a.Control.Feedback,{type:"invalid",children:t("document.form.validation.".concat(h.title))})]}),Object(a.jsxs)(z.a.Group,{as:Ye.a,xs:2,controlId:"docForm.status",style:{display:k.id?"block":"none"},children:[Object(a.jsx)(z.a.Label,{children:t("document.status")}),Object(a.jsx)(z.a.Text,{as:"p",children:ce(k.status)})]})]}),Object(a.jsx)(z.a.Row,{children:Object(a.jsxs)(z.a.Group,{as:Ye.a,controlId:"docForm.summary",children:[Object(a.jsx)(z.a.Label,{children:t("document.summary")}),Object(a.jsx)(z.a.Control,{as:"textarea",name:"summary",rows:5,onChange:B,value:k.summary}),Object(a.jsx)(z.a.Text,{className:"text-muted",children:t("document.form.summary.mutedText")})]})}),Object(a.jsxs)(z.a.Row,{children:[Object(a.jsxs)(z.a.Group,{as:Ye.a,controlId:"docForm.category",children:[Object(a.jsx)(z.a.Label,{children:t("document.category")}),Object(a.jsx)(W,{onChange:E,isInvalid:h.category,validationMessage:t("document.form.validation.".concat(h.category)),value:k.category})]}),Object(a.jsxs)(z.a.Group,{as:Ye.a,controlId:"docForm.date",children:[Object(a.jsx)(z.a.Label,{children:t("document.date")}),Object(a.jsx)(H,{name:"date",onChange:E,value:k.date})]})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(K.a,{variant:"danger",onClick:function(){O("/documents/".concat(n),{method:"DELETE"}).then((function(e){e.ok&&(window.alert("Document '".concat(n,"' deleted")),m("/documents"))}))},style:{display:n?"block":"none"},children:t("document.form.deleteButton")}),Object(a.jsx)(K.a,{className:"border-color-blue bg-color-blue",variant:"primary",type:"submit",children:t("document.form.".concat(n?"updateButton":"submitButton"))})]})]})})});function Ze(){var e=Object(w.h)();return Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{path:"".concat(e.path,"/:docId"),component:Qe}),Object(a.jsx)(w.b,{path:e.path,component:Qe})]})}function Xe(){return Object(a.jsxs)("div",{className:"home-container",children:[Object(a.jsx)(U,{}),Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{exact:!0,path:"/",children:Object(a.jsx)(le,{})}),Object(a.jsx)(w.b,{path:"/documents",children:Object(a.jsx)(Ze,{})}),Object(a.jsx)(w.b,{path:"/categories",children:Object(a.jsx)(de,{})}),Object(a.jsx)(w.b,{path:"/departments",children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(w.b,{path:"/users/department",children:Object(a.jsx)(We,{permissionType:"department"})}),Object(a.jsx)(w.b,{path:"/users/system",children:Object(a.jsx)(We,{permissionType:"system"})}),Object(a.jsx)(w.b,{path:"*",children:Object(a.jsx)(ue,{})})]})]})}n(103);function et(){return Object(a.jsx)(g,{children:Object(a.jsx)(k,{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(w.b,{path:"/login",component:D}),Object(a.jsx)(E,{path:"*",component:Xe})]})})})}n(104);s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(et,{})}),document.getElementById("root"))},60:function(e,t,n){},61:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.4d8836a1.chunk.js.map