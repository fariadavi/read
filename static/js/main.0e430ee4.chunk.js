(this["webpackJsonpunirio-ged-app-frontend"]=this["webpackJsonpunirio-ged-app-frontend"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(31),i=n.n(s),o=n(58),l=n(46),u={"en-US":{translation:{yes:"Yes",no:"No",none:"None",document:"Document",document_plural:"Documents",category:"Category",category_plural:"Categories",department:"Department",department_plural:"Departments",user:"User",user_plural:"Users","table.actions":"Actions","customButtons.add.tooltip":"Add","customButtons.edit.tooltip":"Edit","customButtons.confirm.tooltip":"Confirm","customButtons.cancel.tooltip":"Cancel","customButtons.filter.tooltip":"Filter","customButtons.delete.tooltip":"Delete","customButtons.clear.tooltip":"Clear","customTable.addRow.text.placeholder":"Enter text","customTable.addRow.validation.mandatoryField":"Mandatory field","customTable.filterRow.text.placeholder":"Enter text to filter","customTable.filterRow.clearBtn.tooltip":"Clear all filters","loginWithGoogle.buttonText":"Sign in with Google","pageNotFound.title":"404","pageNotFound.subtitle":"Oops! Seems like this webpage doesn't exist...","pageNotFound.message":"Either the link you have is broken or this page refers to a content that has been moved or deleted.","pageNotFound.home":"Click here to go to the homepage","pageNotFound.contactUs":"If you believe that should be something here, please contact system administration.","navbar.documents":"$t(document_plural)","navbar.documents.add":"Add New","navbar.documents.search":"Search","navbar.department":"$t(department)","navbar.department.category":"$t(category_plural)","navbar.department.users":"$t(user_plural)","navbar.system":"System","navbar.system.department":"$t(department_plural)","navbar.system.users":"$t(user_plural)","navbar.language":"Language","navbar.language.en-US.shortName":"English","navbar.language.en-US.fullName":"American English","navbar.language.pt-BR.shortName":"Portuguese","navbar.language.pt-BR.fullName":"Brazilian Portuguese","navbar.logout":"Logout","document.title":"Title","document.status":"Status","document.summary":"Summary","document.category":"$t(category)","document.registeredBy":"Registered by","document.date":"Document Date","document.form.add.title":"New Document","document.form.edit.title":"Edit Document","document.form.summary.mutedText":"A brief description of the document being uploaded.","document.form.category.choose":"Choose a category...","document.form.category.zeroOptions":"No categories on current department","document.form.file":"File","document.form.file.choose":"Choose file","document.form.file.placeholder":"No file selected","document.form.deleteButton":"Delete","document.form.updateButton":"Update","document.form.submitButton":"Submit","document.form.validation.fileRequired":"You must attach a file","document.form.validation.invalidFileType":"File selected does not have a valid type","document.form.validation.titleRequired":"Title is required","document.form.validation.categoryRequired":"You must select a category","searchBar.filters.category":"$t(category)","searchBar.filters.date.from":"Date from","searchBar.filters.date.until":"until","searchBar.searchButton":"Search Documents","searchBar.moreFiltersButton":"More filters","searchBar.lessFiltersButton":"Less filters","searchBar.filters.registeredByMe":"Only documents registered by me","search.noResultFound.message.p1":"No results found","search.noResultFound.message.p2":" for ","search.noResultFound.message.p3":" with the specified filters.","search.noResultFound.searchTips.title":"Suggestions:","search.noResultFound.searchTips.item1":"Make sure all words are spelled correctly.","search.noResultFound.searchTips.item2":"Try using different/fewer keywords.","search.noResultFound.searchTips.item3":"Make sure all the optional filters are correctly filled up.","search.noResultFound.searchTips.item4":"Try removing the filters and re-add them gradually.","search.error":"There was an error performing the requested search. Please try again later.","user.name":"User Name","user.email":"Email","user.management.title":"Manage Users","user.management.invite.title":"Invite User","user.management.department-permissions.title":"Manage Department Permissions","user.management.system-permissions.title":"Manage System Permissions","user.management.invite.placeholder":"Enter user mail","user.management.invite.validation.invalidEmailFormat":"Invalid email format","user.management.invite.validation.invalidDomain":"Email must belong to @uniriotec.br or @edu.unirio.br","user.management.invite.button":"Send Invite","user.table.headers.status":"Status","user.table.headers.username":"$t(user.name)","user.table.headers.email":"$t(user.email)","user.table.headers.permission.search_docs":"Search documents","user.table.headers.permission.add_docs":"Add documents","user.table.headers.permission.edit_docs_others":"Edit other users' documents","user.table.headers.permission.delete_docs_others":"Delete other users' documents","user.table.headers.permission.invite_users":"Invite users","user.table.headers.permission.manage_categories":"Manage categories","user.table.headers.permission.manage_dept_perm":"Manage department permissions","user.table.headers.permission.manage_system_perm":"Manage system permissions","user.table.headers.permission.manage_departments":"Manage departments","user.table.filters.text.username":"Filter by user name","user.table.filters.text.email":"Filter by email","user.table.filters.boolean.y":"$t(yes)","user.table.filters.boolean.n":"$t(no)","user.table.filters.status.y":"Active","user.table.filters.status.n":"Pending","user.table.headers.buttons.invite":"Invite user","user.table.headers.buttons.filter":"Filter users","user.table.headers.buttons.permissions.batch_edit":"Edit users permissions in batch","user.table.headers.buttons.permissions.batch_edit.confirm":"Confirm","user.table.headers.buttons.permissions.batch_edit.cancel":"Cancel","user.table.filters.buttons.clear":"Clear all filters","user.table.data.status.y":"Active","user.table.data.status.n":"Pending","user.table.data.buttons.permissions.edit":"Edit user permissions","user.table.data.buttons.permissions.edit.confirm":"Confirm","user.table.data.buttons.permissions.edit.cancel":"Cancel","user.table.data.buttons.user.delete":"Remove user from this department","departments.page.header":"Manage Departments","departments.table.headers.acronym":"Acronym","departments.table.headers.name":"Name","departments.table.data.isCurrentDept.y":"Current department","departments.customTable.addRow.acronym.placeholder":"Enter acronym for department","departments.customTable.addRow.name.placeholder":"Enter department name"}},"pt-BR":{translation:{yes:"Sim",no:"N\xe3o",none_male:"Nenhum",none_female:"Nenhuma",document:"Documento",document_plural:"Documentos",category:"Categoria",category_plural:"Categorias",department:"Departmento",department_plural:"Departmentos",user:"Usu\xe1rio",user_plural:"Usu\xe1rios","table.actions":"A\xe7\xf5es","customButtons.add.tooltip":"Adicionar","customButtons.edit.tooltip":"Editar","customButtons.confirm.tooltip":"Confirmar","customButtons.cancel.tooltip":"Cancelar","customButtons.filter.tooltip":"Filtrar","customButtons.delete.tooltip":"Excluir","customButtons.clear.tooltip":"Limpar","customTable.addRow.text.placeholder":"Entre com o texto","customTable.addRow.validation.mandatoryField":"Campo obrigat\xf3rio","customTable.filterRow.text.placeholder":"Entre com o texto para filtrar","customTable.filterRow.clearBtn.tooltip":"Limpar todos os filtros","loginWithGoogle.buttonText":"Entre com Google","pageNotFound.title":"404","pageNotFound.subtitle":"Oops! Parece que essa p\xe1gina n\xe3o existe...","pageNotFound.message":"O link que voc\xea possui est\xe1 errado ou esta p\xe1gina se refere a um conte\xfado que foi movido ou exclu\xeddo.","pageNotFound.home":"Clique aqui para voltar a p\xe1gina inicial","pageNotFound.contactUs":"Se voc\xea acredita que deveria haver algo aqui, entre em contato com os administradores do sistema.","navbar.documents":"$t(document_plural)","navbar.documents.add":"Adicionar","navbar.documents.search":"Pesquisar","navbar.department":"$t(department)","navbar.department.category":"$t(category_plural)","navbar.department.users":"$t(user_plural)","navbar.system":"Sistema","navbar.system.department":"$t(department_plural)","navbar.system.users":"$t(user_plural)","navbar.language":"Linguagem","navbar.language.en-US.shortName":"Ingl\xeas","navbar.language.en-US.fullName":"Ingl\xeas Americano","navbar.language.pt-BR.shortName":"Portugu\xeas","navbar.language.pt-BR.fullName":"Portugu\xeas Brasileiro","navbar.logout":"Sair","document.title":"T\xedtulo","document.status":"Status","document.summary":"Resumo","document.category":"$t(category)","document.registeredBy":"Cadastrado por","document.date":"Data do Documento","document.form.add.title":"Novo Documento","document.form.edit.title":"Editar Documento","document.form.summary.mutedText":"Uma breve descri\xe7\xe3o do documento sendo enviado.","document.form.category.choose":"Escolha uma categoria...","document.form.category.zeroOptions":"Nenhuma categoria no departamento atual","document.form.file":"Arquivo","document.form.file.choose":"Escolha o arquivo","document.form.file.placeholder":"Nenhum arquivo selecionado","document.form.deleteButton":"Excluir","document.form.updateButton":"Atualizar","document.form.submitButton":"Enviar","document.form.validation.fileRequired":"Deve anexar um arquivo","document.form.validation.invalidFileType":"O tipo de arquivo enviado n\xe3o \xe9 v\xe1lido","document.form.validation.titleRequired":"Titulo \xe9 obrigat\xf3rio","document.form.validation.categoryRequired":"Deve selecionar uma categoria","searchBar.filters.category":"$t(category)","searchBar.filters.date.from":"Data de","searchBar.filters.date.until":"at\xe9","searchBar.searchButton":"Pesquisar documentos","searchBar.moreFiltersButton":"Mais filtros","searchBar.lessFiltersButton":"Menos filtros","searchBar.filters.registeredByMe":"Apenas documentos cadastrados por mim","search.noResultFound.message.p1":"Nenhum resultado encontrado","search.noResultFound.message.p2":" para ","search.noResultFound.message.p3":" com os filtros especificados.","search.noResultFound.searchTips.title":"Sugest\xf5es:","search.noResultFound.searchTips.item1":"Certifique-se de que todas as palavras est\xe3o escritas corretamente.","search.noResultFound.searchTips.item2":"Tente usar outras/menos palavras-chave.","search.noResultFound.searchTips.item3":"Certifique-se de que todas os filtros opcionais est\xe3o preenchidos corretamente.","search.noResultFound.searchTips.item4":"Tente remover os filtros e readicion\xe1-los gradualmente.","search.error":"Houve um erro realizando a busca desejada. Por favor, tente novamente mais tarde.","user.name":"Nome de usu\xe1rio","user.email":"Email","user.management.title":"Gerenciar Usu\xe1rios","user.management.invite.title":"Convidar Usu\xe1rio","user.management.department-permissions.title":"Gerenciar Permiss\xf5es de Departamento","user.management.system-permissions.title":"Gerenciar Permiss\xf5es de Sistema","user.management.invite.placeholder":"Entre com o email do usu\xe1rio","user.management.invite.validation.invalidEmailFormat":"Email com formato inv\xe1lido","user.management.invite.validation.invalidDomain":"Email deve pertencer \xe0s organiza\xe7\xf5es @uniriotec.br ou @edu.unirio.br","user.management.invite.button":"Enviar convite","user.table.headers.status":"Status","user.table.headers.username":"$t(user.name)","user.table.headers.email":"$t(user.email)","user.table.headers.permission.search_docs":"Procurar documentos","user.table.headers.permission.add_docs":"Adicionar documentos","user.table.headers.permission.edit_docs_others":"Editar documentos de outros usu\xe1rios","user.table.headers.permission.delete_docs_others":"Excluir documentos de outros usu\xe1rios","user.table.headers.permission.invite_users":"Convidar usu\xe1rios","user.table.headers.permission.manage_categories":"Gerenciar categorias","user.table.headers.permission.manage_dept_perm":"Gerenciar permiss\xf5es de departamento","user.table.headers.permission.manage_system_perm":"Gerenciar permiss\xf5es de sistema","user.table.headers.permission.manage_departments":"Gerenciar departamentos","user.table.filters.text.username":"Filtrar por nome de usu\xe1rio","user.table.filters.text.email":"Filtrar por email","user.table.filters.boolean.y":"$t(yes)","user.table.filters.boolean.n":"$t(no)","user.table.filters.status.y":"Ativo","user.table.filters.status.n":"Pendente","user.table.headers.buttons.invite":"Convidar usu\xe1rio","user.table.headers.buttons.filter":"Filtrar usu\xe1rios","user.table.headers.buttons.permissions.batch_edit":"Editar permiss\xf5es dos usu\xe1rios","user.table.headers.buttons.permissions.batch_edit.confirm":"Confirmar","user.table.headers.buttons.permissions.batch_edit.cancel":"Cancelar","user.table.filters.buttons.clear":"Limpar todos os filtros","user.table.data.status.y":"Ativo","user.table.data.status.n":"Pendente","user.table.data.buttons.permissions.edit":"Editar permiss\xf5es do usu\xe1rio","user.table.data.buttons.permissions.edit.confirm":"Confirmar","user.table.data.buttons.permissions.edit.cancel":"Cancelar","user.table.data.buttons.user.delete":"Remover usu\xe1rio deste departamento","departments.page.header":"Departmentos","departments.table.headers.acronym":"Sigla","departments.table.headers.name":"Nome","departments.table.data.isCurrentDept.y":"Departmento atual","departments.customTable.addRow.acronym.placeholder":"Entre a sigla do departamento","departments.customTable.addRow.name.placeholder":"Entre o nome do departamento","departments.customTable.addRow.addBtn.tooltip":"Adicionar novo departamento","departments.customTable.addRow.validation.acronymMaxLength":"Sigla deve ter no m\xe1ximo 5 caracteres","departments.customTable.addRow.validation.cantContainWhitespaces":"Sigla n\xe3o pode conter espa\xe7os em branco"}}};o.a.use(l.e).init({resources:u,lng:"en-US",keySeparator:!1,interpolation:{escapeValue:!1}});o.a;var d=n(8),b=n.n(d),m=n(13),j=n(4),h="@gedapp-auth-token",p=function(){return localStorage.getItem(h)},f=function(e){return localStorage.setItem(h,e)};function O(e,t){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=p())&&(n.headers||(n.headers={}),n.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",fetch("".concat("https://unirio-ged-app.herokuapp.com").concat(t),n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(c.createContext)();function g(e){var t=e.children,n=Object(c.useState)(p()),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(j.a)(o,2),u=l[0],d=l[1],v=Object(c.useCallback)((function(){d(!0),i(null),localStorage.removeItem(h),d(!1)}),[]),g=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,O("/api/auth/google/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.tokenId});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.status);case 7:return e.next=9,n.text();case 9:a=e.sent,f(a),i(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),v();case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(x.Provider,{value:{authenticated:null!==s,token:s,authLoading:u,handleAuthentication:g,handleAuthLogout:v},children:t})}var y=Object(c.createContext)();function C(e){var t=e.children,n=Object(c.useContext)(x),r=n.token,s=n.handleAuthLogout,i=Object(c.useState)(),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(!1),h=Object(j.a)(d,2),p=h[0],f=h[1],v=Object(c.useCallback)(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,O("/users/loggedUserInfo",{method:"GET"});case 4:if(t=e.sent,f(!1),t.ok){e.next=8;break}throw new Error(t.status);case 8:return e.t0=u,e.next=11,t.json();case 11:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 15:throw e.prev=15,e.t2=e.catch(1),s(),new Error(e.t2);case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[s]),g=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,O("/users/".concat(l.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentDepartment:{id:t}})});case 3:if(n=e.sent,f(!1),n.ok){e.next=7;break}throw new Error(n.status);case 7:v();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){!l&&r&&v()}),[l,r,v]),Object(a.jsx)(y.Provider,{value:{user:l,department:null===l||void 0===l?void 0:l.currentDepartment,userLoading:p,checkPermission:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return l.permissions.includes(e)}))},setLoggedUserInfo:v,changeDepartment:g,logoutUser:function(){f(!0),u(null),s(),f(!1)}},children:t})}var k=n(20),N=n(14),E=n(10),T=n(22);function w(e){var t=e.component,n=Object(T.a)(e,["component"]),r=Object(c.useContext)(y),s=r.user,i=r.logoutUser;return Object(c.useContext)(x).token?s?Object(a.jsx)(N.b,Object(E.a)(Object(E.a)({},n),{},{component:t})):Object(a.jsx)("h1",{children:"Loading User..."}):(s&&i(),Object(a.jsx)(N.a,{to:"/login"}))}var S=n(123),F=n(65),B=n.n(F),D=n(114);function R(){var e=Object(S.a)().t,t=Object(c.useContext)(x),n=t.authLoading,r=t.authenticated,s=t.handleAuthentication,i=t.handleAuthLogout;return n?Object(a.jsx)("h1",{children:"Loading..."}):r?Object(a.jsx)(N.a,{to:"/"}):Object(a.jsx)(D.a,{className:"d-flex align-item justify-content-center",style:{minHeight:"100vh"},children:Object(a.jsxs)("div",{className:"d-flex flex-column align-item justify-content-center",children:[Object(a.jsx)("h1",{children:"UNIRIO GED App"}),Object(a.jsx)("div",{className:"d-flex align-item justify-content-center",children:Object(a.jsx)(B.a,{clientId:"363171374429-j2ucgraghs57fudoi2e8qml1ji1dv4n8.apps.googleusercontent.com",buttonText:e("loginWithGoogle.buttonText"),onSuccess:s,onFailure:function(e,t){i(),console.log("login failed")},cookiePolicy:"single_host_origin"})})]})})}var A=n(15),_=n(119),P=n(121),I=n(118),U="@user_lang",L=n(11),M=n(9);n(92);function G(){var e=Object(S.a)(),t=e.t,n=e.i18n,r=Object(c.useContext)(y),s=r.user,i=r.department,o=r.checkPermission,l=r.changeDepartment,u=r.logoutUser,d=Object(c.useState)(localStorage.getItem(U)),b=Object(j.a)(d,2),m=b[0],h=b[1],p=Object.keys(n.store.data);Object(c.useEffect)((function(){var e;n.changeLanguage(m),e=m||navigator.language||navigator.userLanguage,localStorage.setItem(U,e)}),[n,m]);return Object(a.jsxs)(_.a,{fixed:"top",bg:"dark",variant:"dark",expand:"sm",children:[Object(a.jsx)(_.a.Brand,{children:Object(a.jsxs)(k.b,{to:"/",children:[Object(a.jsx)("img",{height:"28px",alt:"",src:"/unirio-ged-app-frontend/images/logo_unirio.svg",style:{margin:"-6px 6px 0 0"}}),"UNIRIO GED App"]})}),Object(a.jsxs)(P.a,{className:"mr-auto",children:[o("ADD_DOCS","SEARCH_DOCS")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L.a,{icon:M.l}),Object(a.jsx)("span",{children:t("navbar.documents")})]}),children:[o("ADD_DOCS")&&Object(a.jsxs)(k.b,{to:"/documents/",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.t}),t("navbar.documents.add")]}),o("SEARCH_DOCS")&&Object(a.jsxs)(k.b,{to:"/",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.v}),t("navbar.documents.search")]})]}),o("MANAGE_CATEGORIES","INVITE_USERS","MANAGE_DEPT_PERM")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L.a,{icon:M.o}),Object(a.jsx)("span",{children:t("navbar.department")})]}),children:[o("MANAGE_CATEGORIES")&&Object(a.jsxs)(k.b,{to:"/categories",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.x}),t("navbar.department.category")]}),o("INVITE_USERS","MANAGE_DEPT_PERM")&&Object(a.jsxs)(k.b,{to:"/users/department",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.C}),t("navbar.department.users")]})]}),o("MANAGE_DEPARTMENTS","MANAGE_SYSTEM_PERM")&&Object(a.jsxs)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L.a,{icon:M.h}),Object(a.jsx)("span",{children:t("navbar.system")})]}),children:[o("MANAGE_DEPARTMENTS")&&Object(a.jsxs)(k.b,{to:"/departments",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.p}),t("navbar.system.department")]}),o("MANAGE_SYSTEM_PERM")&&Object(a.jsxs)(k.b,{to:"/users/system",className:"dropdown-item",children:[Object(a.jsx)(L.a,{className:"icon",icon:M.C}),t("navbar.system.users")]})]})]}),Object(a.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(_.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsx)(P.a,{className:"ml-auto",children:Object(a.jsxs)("div",{className:"nav-link menu-user-box",children:[Object(a.jsx)("span",{"data-tip":null===s||void 0===s?void 0:s.email,children:"".concat(null===s||void 0===s?void 0:s.firstName," ").concat(null===s||void 0===s?void 0:s.surname)}),Object(a.jsx)(A.a,{}),Object(a.jsx)(L.a,{icon:M.A})]})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:t("navbar.language")}),Object(a.jsx)(L.a,{icon:M.q})]}),children:p.map((function(e,n){return Object(a.jsxs)(I.a.Item,{onClick:function(){var t;(t=e)!==m&&h(t)},className:"".concat(m===e?"active":""),children:[Object(a.jsx)("img",{className:"icon flag",alt:t("language.".concat(e,".fullName")),src:"/unirio-ged-app-frontend/images/".concat(e,".svg")}),Object(a.jsx)("span",{children:t("navbar.language.".concat(e,".shortName"))})]},n)}))})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"".concat(t("navbar.department"),": ").concat((null===i||void 0===i?void 0:i.acronym)||t("none",{context:"male"}))}),Object(a.jsx)(L.a,{icon:M.k})]}),disabled:!(null===s||void 0===s?void 0:s.departments.length),children:(s?s.departments:[]).map((function(e){var t;return Object(a.jsx)(I.a.Item,{onClick:function(){l(e.id)},className:"".concat(e.id===(null===s||void 0===s||null===(t=s.currentDepartment)||void 0===t?void 0:t.id)?"active":""),children:"".concat(e.name," (").concat(e.acronym,")")},e.id)}))})}),Object(a.jsx)(P.a,{children:Object(a.jsxs)(P.a.Link,{onClick:u,children:[Object(a.jsx)("span",{children:t("navbar.logout")}),Object(a.jsx)(L.a,{icon:M.w})]})})]})]})}var q=n(32),z=n(16),$=n(120),K=n(69),V=n(37),H=(n(95),function(e){var t=e.className,n=void 0===t?"":t,c=e.name,r=e.label,s=e.min,i=e.max,o=e.value,l=e.onChange;return Object(a.jsxs)("div",{className:"custom-date-picker ".concat(n),children:[r?Object(a.jsx)($.a.Label,{children:r}):"",Object(a.jsxs)("div",{className:"date-wrapper",children:[Object(a.jsx)($.a.Control,{type:"date",name:c,required:!0,onChange:function(e){return l(c,e.target.value)},min:s,max:i,value:o}),Object(a.jsx)("span",{className:"clear-input",onClick:function(){return l(c,"")},children:Object(a.jsx)(L.a,{icon:V.c})})]})]})}),J=(n(96),function(e){var t=e.className,n=e.label,c=e.name,r=e.placeholder,s=e.value,i=e.onChange,o=e.options,l=e.noOptionsLabel,u=e.textProperty,d=e.idProperty,b=void 0===d?"id":d,m=e.required,j=e.isValid,h=e.isInvalid,p=e.children;return Object(a.jsxs)("div",{className:"".concat(t," select-wrapper"),children:[n?Object(a.jsx)($.a.Label,{children:n}):"",Object(a.jsxs)($.a.Control,{as:"select",custom:!0,required:m,name:c,onChange:function(e){return i(c,e.target.value)},isValid:j,isInvalid:h,value:s,children:[Object(a.jsx)("option",{style:{display:o.length?"none":""},children:o.length?r:l},0),o.length&&o.sort((function(e,t){return e[u].localeCompare(t[u])})).map((function(e){return Object(a.jsx)("option",{value:e[b],children:e[u]},e[b])}))]}),Object(a.jsx)("input",{type:"checkbox",className:"select-has-value",checked:s&&s>0,readOnly:!0}),Object(a.jsx)("span",{className:"clear-input",onClick:function(){return i(c,0)},children:Object(a.jsx)(L.a,{icon:V.c})}),p]})}),Y=function(e){var t=e.className,n=void 0===t?"":t,r=e.label,s=e.onChange,i=e.isValid,o=e.isInvalid,l=e.validationMessage,u=e.value,d=Object(S.a)().t,b=Object(c.useContext)(y).department,m=Object(c.useState)([]),h=Object(j.a)(m,2),p=h[0],f=h[1];return Object(c.useEffect)((function(){O("/categories",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(e){return f(e)}))}),[b]),Object(a.jsx)(J,{className:n,label:r,name:"category",isValid:i,isInvalid:o,onChange:s,options:p,placeholder:d("document.form.category.choose"),noOptionsLabel:d("document.form.category.zeroOptions"),textProperty:"fullName",value:u,children:o?Object(a.jsx)($.a.Control.Feedback,{type:"invalid",children:l}):""})},W=n(115),Q=function(e){var t=e.disabled,n=e.value,c=e.onChange,r=e.onSubmit;return Object(a.jsxs)(W.a,{children:[Object(a.jsx)(W.a.Prepend,{children:Object(a.jsx)(W.a.Text,{id:"inputGroupPrepend",children:Object(a.jsx)(L.a,{icon:M.v})})}),Object(a.jsx)($.a.Control,{id:"textInput",disabled:t,onChange:function(e){return c("text",e.target.value)},onKeyPress:function(e){return t||"Enter"!==e.code?null:r(e)},value:n,type:"text"})]})},Z=function(e){var t=e.label,n=e.onChange,c=e.value;return Object(a.jsx)(Y,{className:"custom-input-group category-filter",label:t,onChange:n,value:c})},X=function(e){var t=e.labelFromDate,n=e.labelUntilDate,c=e.onChange,r=e.minDateValue,s=e.maxDateValue;return Object(a.jsxs)("div",{className:"custom-input-group date-filter",children:[Object(a.jsx)(H,{name:"minDate",label:t,onChange:c,max:s,value:r}),Object(a.jsx)(H,{name:"maxDate",label:n,onChange:c,min:r,value:s})]})},ee=function(e){var t=e.label,n=e.value,c=e.onClick;return Object(a.jsx)("div",{className:"custom-input-group user-filter",children:Object(a.jsx)($.a.Check,{type:"checkbox",name:"myDocuments",custom:!0,id:"filterMyDocuments",onClick:function(e){return c("myDocuments",e.target.value)},label:t,value:n})})};n(97);function te(e){var t=e.isSearching,n=e.onSearch,r=Object(S.a)().t,s=Object(c.useContext)(y).department,i=Object(c.useState)(!1),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)({text:"",minDate:"",maxDate:"",category:"",myDocuments:!1}),b=Object(j.a)(d,2),m=b[0],h=b[1],p=function(e,t){"category"===e&&"-1"===t?t=0:"myDocuments"===e&&(t="false"===t),h(Object(E.a)(Object(E.a)({},m),{},Object(z.a)({},e,t)))},f=function(e){if(e.preventDefault(),(r=m).text.trim().length>0||r.category||r.minDate||r.maxDate||r.myDocuments){var t=m.text,a=Object(T.a)(m,["text"]),c=t.trim();n(c,a),h(Object(E.a)(Object(E.a)({},m),{},{text:c}))}else window.alert("fill at least one input");var r};return Object(c.useEffect)((function(){return h((function(e){return Object(E.a)(Object(E.a)({},e),{},{category:0})}))}),[s]),Object(a.jsxs)($.a,{className:"search-bar-form",noValidate:!0,onSubmit:f,children:[Object(a.jsx)($.a.Group,{className:"search-form-group text-input-group",children:Object(a.jsx)(Q,{value:m.text,onChange:p,onSubmit:f})}),Object(a.jsxs)($.a.Group,{className:"search-form-group filters-group ".concat(l?"":"hide"),children:[Object(a.jsx)(Z,{label:r("searchBar.filters.category"),onChange:p,value:m.category,placeholder:r("document.form.category.choose"),unselectOptionLabel:r("none",{context:"female"})}),Object(a.jsx)(X,{labelFromDate:r("searchBar.filters.date.from"),labelUntilDate:r("searchBar.filters.date.until"),onChange:p,minDateValue:m.minDate,maxDateValue:m.maxDate}),Object(a.jsx)(ee,{label:r("searchBar.filters.registeredByMe"),onClick:p,value:m.myDocuments})]}),Object(a.jsxs)($.a.Group,{className:"search-form-group search-actions-group",children:[Object(a.jsx)("div",{className:"search-filters-toggle-box",children:Object(a.jsxs)(K.a,{className:"color-blue",onClick:function(){return u(!l)},variant:"link",children:["".concat(r("searchBar.".concat(l?"less":"more","FiltersButton"))," (").concat(Object.entries(m).filter((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return"text"!==n&&a})).length,")"),Object(a.jsx)(L.a,{className:"append",icon:l?M.b:M.a})]})}),Object(a.jsx)(K.a,{className:"search-btn border-color-blue bg-color-blue",disabled:t,variant:"primary",type:"submit",children:t?Object(a.jsx)(L.a,{icon:M.g,className:"faSpin"}):r("searchBar.searchButton")})]})]})}var ne=n(124);function ae(e){var t=e.numPages,n=e.activePage,r=e.onSearch,s=Object(c.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){var e=[],c=n-2,s=n+2;s>t&&(s=t,c=t-4),c<=1&&(c=1),e.push(Object(a.jsx)(ne.a.First,{onClick:function(){return r(1)},disabled:1===n},"first")),e.push(Object(a.jsx)(ne.a.Prev,{onClick:function(){return r(n-1)},disabled:1===n},"-"));for(var i=function(t){e.push(Object(a.jsx)(ne.a.Item,{onClick:function(){t!==n&&r(t)},active:t===n,children:t},t))},o=c;o<=s;o++)i(o);e.push(Object(a.jsx)(ne.a.Next,{onClick:function(){return r(n+1)},disabled:n>=t},"+")),e.push(Object(a.jsx)(ne.a.Last,{onClick:function(){return r(t)},disabled:n>=t},"last")),l(e)}),[t,n,r]),Object(a.jsx)(ne.a,{className:"tablePagination justify-content-end",children:o})}var ce=n(116),re=function(e){var t;switch(e=e||""){case"SUCCESS":t="success";break;case"FAILED":t="danger";break;case"PROCESSING":t="info";break;default:case"NOT_PROCESSED":t="secondary"}return Object(a.jsx)(ce.a,{className:"capitalize",variant:t,children:e.toLowerCase()})},se=n(117);n(98);function ie(e){var t=e.refProp,n=e.documents,c=e.currentPage,r=e.numPages,s=e.deleteDocument,i=e.onSearch,o=e.expandResult,l=Object(S.a)().t,u=function(e){switch(e){case"application/pdf":return M.m;default:case"text/plain":return M.l}},d=function(e,t,n){O("/documents/".concat(e,"/download"),{method:"GET"}).then((function(e){if(e.ok)return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);if(n){var c=document.createElement("a");c.download=t,c.target="_blank",c.href=a,c.click()}else window.open(a,"_blank");window.URL.revokeObjectURL(a)}))};return Object(a.jsxs)("div",{ref:t,className:"docs-table",children:[Object(a.jsxs)(se.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("table.actions")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.title")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.summary")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.category")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.date")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.status")})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center",children:l("document.registeredBy")})})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{className:e.expand?"":"truncated",children:[Object(a.jsx)("td",{className:"actions",children:Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("span",{onClick:function(){return o(e.id)},children:Object(a.jsx)(L.a,{className:"icon",icon:e.expand?V.b:V.a})}),Object(a.jsx)("span",{onClick:function(){return d(e.id,e.fileName,!1)},children:Object(a.jsx)(L.a,{className:"icon",icon:u(e.mediaType)})}),Object(a.jsx)("span",{onClick:function(){return d(e.id,e.fileName,!0)},children:Object(a.jsx)(L.a,{className:"icon",icon:M.i})}),Object(a.jsx)(k.b,{to:"/documents/".concat(e.id),children:Object(a.jsx)(L.a,{className:"icon",icon:M.j})}),Object(a.jsx)("span",{onClick:function(){return s(e.id)},children:Object(a.jsx)(L.a,{className:"icon",icon:M.z})})]})}),Object(a.jsx)("td",{className:"title",children:Object(a.jsx)("p",{children:e.title})}),Object(a.jsx)("td",{className:"summary",children:Object(a.jsx)("p",{children:e.summary})}),Object(a.jsx)("td",{className:"category",children:Object(a.jsx)("p",{className:"center",children:e.fullCategoryHierarchy})}),Object(a.jsx)("td",{className:"date",children:Object(a.jsx)("p",{className:"center",children:e.formattedDate})}),Object(a.jsx)("td",{className:"status",children:Object(a.jsx)("p",{className:"center",children:re(e.status)})}),Object(a.jsx)("td",{className:"user",children:Object(a.jsx)("p",{className:"center",children:e.registeredBy})})]},e.id)}))})]}),Object(a.jsx)(ae,{numPages:r,activePage:c,onSearch:i})]})}var oe=function(e){var t=e.currentQueryString,n=Object(S.a)().t;return Object(a.jsxs)("div",{className:"no-result-message-box",children:[Object(a.jsxs)("p",{children:[n("search.noResultFound.message.p1"),t.length?n("search.noResultFound.message.p2"):"",Object(a.jsx)("b",{style:{display:t.length?"inline-block":"none"},children:t}),n("search.noResultFound.message.p3")]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{style:{marginBottom:0},children:n("search.noResultFound.searchTips.title")}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item1")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item2")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item3")}),Object(a.jsx)("li",{children:n("search.noResultFound.searchTips.item4")})]})]})]})};n(99);function le(){var e=Object(S.a)().t,t=Object(c.useRef)(null),n=Object(c.useContext)(y),r=n.checkPermission,s=n.department,i=Object(c.useState)(r("SEARCH_DOCS")),o=Object(j.a)(i,1)[0],l=Object(c.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],m=Object(c.useState)(!1),h=Object(j.a)(m,2),p=h[0],f=h[1],v=Object(c.useState)([]),x=Object(j.a)(v,2),g=x[0],C=x[1],k=Object(c.useState)(""),N=Object(j.a)(k,2),E=N[0],T=N[1],w=Object(c.useState)(""),F=Object(j.a)(w,2),B=F[0],D=F[1],R=Object(c.useState)(1),A=Object(j.a)(R,2),_=A[0],P=A[1],I=Object(c.useState)(10),U=Object(j.a)(I,1)[0],L=Object(c.useState)(0),M=Object(j.a)(L,2),G=M[0],z=M[1];return Object(c.useEffect)((function(){C([]),b(null),f(!1)}),[s]),Object(a.jsxs)("div",{className:"search-page",children:[Object(a.jsx)("div",{className:"search-result ".concat(p?"active":""),children:o&&Object(a.jsx)("div",{children:p&&g.length?Object(a.jsx)(ie,{refProp:t,documents:g,currentPage:_,numPages:Math.ceil(G/U),deleteDocument:function(e){O("/documents/".concat(e),{method:"DELETE"}).then((function(t){t.ok&&(window.alert("Document '".concat(e,"' deleted")),C(g.filter((function(t){return t.id!==e}))))}))},onSearch:function(n){b(!0),O("".concat(E,"&page=").concat(n,"&pageSize=").concat(U),{method:"GET"}).then((function(e){if(e.ok)return e.json();window.alert("Error searching documents")})).then((function(e){e&&(P(e.page||0),z(e.totalHits||0),C(e.results||[]),f(!0),e.totalHits&&t.current.scrollIntoView({block:"start",behavior:"smooth"}))})).catch((function(t){f(!1),window.alert(e("search.error"))})).finally((function(){return b(!1)}))},expandResult:function(e){var t=g.find((function(t){return t.id===e}));t.expand=!t.expand,C(Object(q.a)(g))}}):p&&!g.length?Object(a.jsx)(oe,{currentQueryString:B}):""})}),Object(a.jsx)("div",{className:"search-bar",children:o&&Object(a.jsx)(te,{isSearching:d,onSearch:function(n,a){D(n),b(!0);var c="/documents/search?";for(var r in a){var s=a[r];s&&(c+="".concat(r,"=").concat(encodeURI(s),"&"))}O(c+="q=".concat(encodeURI(n)),{method:"GET"}).then((function(e){if(e.ok)return T(c),e.json();window.alert("Error searching documents")})).then((function(e){e&&(P(e.page||0),z(e.totalHits||0),C(e.results||[]),f(!0),e.totalHits&&t.current.scrollIntoView({block:"start",behavior:"smooth"}))})).catch((function(t){f(!1),window.alert(e("search.error"))})).finally((function(){return b(!1)}))}})}),Object(a.jsx)("div",{className:"search-header",children:Object(a.jsx)("h1",{children:"UNIRIO GED App"})})]})}n(60);function ue(){var e=Object(S.a)().t;return Object(a.jsxs)("div",{className:"page-not-found",children:[Object(a.jsx)("h1",{children:e("pageNotFound.title")}),Object(a.jsx)("h2",{children:e("pageNotFound.subtitle")}),Object(a.jsx)("p",{className:"message",children:e("pageNotFound.message")}),Object(a.jsx)("a",{href:"/",children:e("pageNotFound.home")}),Object(a.jsx)("p",{className:"contactUs",children:e("pageNotFound.contactUs")})]})}function de(){return Object(a.jsx)("div",{className:"page-not-found",children:Object(a.jsx)("h2",{children:"MANAGE CATEGORIES"})})}var be=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({acronym:t,name:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(m.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({acronym:n,name:a})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/departments/",{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=n(33),Oe=n(122),ve=function(e){var t=e.icon,n=e.tooltip,c=void 0===n?"":n,r=e.active,s=void 0!==r&&r,i=e.onClick,o=e.append,l=Object(Oe.a)();return Object(a.jsxs)("span",{className:"icon ".concat(s?"active":""),"data-for":l,"data-tip":c,onClick:function(e){return i(e)},children:[Object(a.jsx)(L.a,{className:"icon",icon:t}),o,Object(a.jsx)(A.a,{id:l})]})},xe=function(e){var t=e.icon,n=void 0===t?M.t:t,c=e.i18nTooltipKey,r=e.active,s=e.onClick,i=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:i(c,i("customButtons.add.tooltip")),active:r,onClick:s})},ge=function(e){var t=e.icon,n=void 0===t?M.s:t,c=e.i18nTooltipKey,r=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(c,s("customButtons.edit.tooltip")),onClick:function(e){return r(e)}})},ye=function(e){var t=e.icon,n=void 0===t?M.e:t,c=e.i18nTooltipKey,r=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(c,s("customButtons.confirm.tooltip")),onClick:function(e){return r(e)}})},Ce=function(e){var t=e.icon,n=void 0===t?M.c:t,c=e.i18nTooltipKey,r=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(c,s("customButtons.cancel.tooltip")),onClick:function(e){return r(e)}})},ke=function(e){var t=e.icon,n=void 0===t?M.n:t,c=e.i18nTooltipKey,r=e.active,s=e.onClick,i=e.activeFilterCount,o=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:o(c,o("customButtons.filter.tooltip")),active:r,onClick:s,append:Object(a.jsx)("span",{className:"activeFilterCount",children:!!i&&"(".concat(i,")")})})},Ne=function(e){var t=e.icon,n=void 0===t?M.z:t,c=e.i18nTooltipKey,r=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(c,s("customButtons.delete.tooltip")),onClick:function(e){return r(e)}})},Ee=function(e){var t=e.icon,n=void 0===t?M.y:t,c=e.i18nTooltipKey,r=e.onClick,s=Object(S.a)().t;return Object(a.jsx)(ve,{icon:n,tooltip:s(c,s("customButtons.clear.tooltip")),onClick:r})},Te=function(e){var t,n,c,r,s,i,o,l,u,d,b,m,j=e.activeFilterCount,h=e.actions,p=e.domain,f=e.isAdding,O=e.isFiltering,v=e.isBatchEditing,x=e.onClickAddBtn,g=e.onClickEditBtn,y=e.onClickCancelEditBtn,C=e.onClickConfirmEditBtn,k=e.onClickFilterBtn,N=!(null===(t=h.add)||void 0===t?void 0:t.disabled)&&(null===(n=h.add)||void 0===n?void 0:n.callbackFn),E=!(null===(c=h.batchEdit)||void 0===c?void 0:c.disabled)&&(null===(r=h.batchEdit)||void 0===r?void 0:r.callbackFn),T=!(null===(s=h.filter)||void 0===s?void 0:s.disabled);return Object(a.jsx)(a.Fragment,{children:v?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ye,{icon:null===(u=h.batchEdit)||void 0===u||null===(d=u.confirm)||void 0===d?void 0:d.icon,onClick:function(){return C()},i18nTooltipKey:"".concat(p,".customTable.batchEdit.confirmBtn.tooltip")}),Object(a.jsx)(Ce,{icon:null===(b=h.batchEdit)||void 0===b||null===(m=b.cancel)||void 0===m?void 0:m.icon,onClick:function(){return y()},i18nTooltipKey:"".concat(p,".customTable.batchEdit.cancelBtn.tooltip")})]}):Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(xe,{active:f,icon:null===(i=h.add)||void 0===i?void 0:i.icon,onClick:function(){return x()},i18nTooltipKey:"".concat(p,".customTable.addBtn.tooltip")}),E&&Object(a.jsx)(ge,{icon:null===(o=h.batchEdit)||void 0===o?void 0:o.icon,onClick:function(){return g()},i18nTooltipKey:"".concat(p,".customTable.batchEditBtn.tooltip")}),T&&Object(a.jsx)(ke,{active:O,activeFilterCount:j,icon:null===(l=h.filter)||void 0===l?void 0:l.icon,onClick:function(){return k()},i18nTooltipKey:"".concat(p,".customTable.filterBtn.tooltip")})]})})},we=function(e){var t,n,c,r,s,i,o,l,u,d,b=e.actions,m=e.domain,j=e.dataId,h=e.isBatchEditing,p=e.isEditingRow,f=e.onClickEditBtn,O=e.onClickConfirmEditBtn,v=e.onClickCancelEditBtn,x=e.onClickDeleteBtn,g=!(null===(t=b.edit)||void 0===t?void 0:t.disabled)&&(null===(n=b.edit)||void 0===n?void 0:n.callbackFn),y=!(null===(c=b.delete)||void 0===c?void 0:c.disabled)&&(null===(r=b.delete)||void 0===r?void 0:r.callbackFn);return Object(a.jsx)(a.Fragment,{children:!h&&(p?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ye,{icon:null===(o=b.edit)||void 0===o||null===(l=o.confirm)||void 0===l?void 0:l.icon,onClick:function(){return O(j)},i18nTooltipKey:"".concat(m,".customTable.edit.confirmBtn.tooltip")}),Object(a.jsx)(Ce,{icon:null===(u=b.edit)||void 0===u||null===(d=u.cancel)||void 0===d?void 0:d.icon,onClick:function(){return v(j)},i18nTooltipKey:"".concat(m,".customTable.edit.cancelBtn.tooltip")})]}):Object(a.jsxs)(a.Fragment,{children:[g&&Object(a.jsx)(ge,{icon:null===(s=b.edit)||void 0===s?void 0:s.icon,onClick:function(){return f(j)},i18nTooltipKey:"".concat(m,".customTable.editBtn.tooltip")}),y&&Object(a.jsx)(Ne,{icon:null===(i=b.delete)||void 0===i?void 0:i.icon,onClick:function(){return x(j)},i18nTooltipKey:"".concat(m,".customTable.deleteBtn.tooltip")})]}))})},Se=function(e,t){switch(e){case"file":return(c=t)?c.size?c.name.match(/^.*?\.(doc|docx|docm|eml|epub|odf|odt|pdf|rtf|rtx|txt|text)$/gi)?"":"invalidFileType":"emptyContentFile":"fileRequired";case"title":return t.length?"":"titleRequired";case"category":return t<=0?"categoryRequired":"";case"email":return(a=t).match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/g)?["@edu.unirio.br","@uniriotec.br"].some((function(e){return a.includes(e)}))?"":"invalidDomain":"invalidEmailFormat";case"departments.acronym":return(n=t).includes(" ")?"cantContainWhitespaces":n.length>5?"acronymMaxLength":"";default:return""}var n,a,c},Fe=function(e){var t=e.columns,n=e.domain,r=e.disabled,s=void 0!==r&&r,i=e.onAdd,o=Object(S.a)().t,l=Object(c.useState)({}),u=Object(j.a)(l,2),d=u[0],b=u[1],m=Object(c.useState)({}),h=Object(j.a)(m,2),p=h[0],f=h[1],O=o("customTable.addRow.text.placeholder"),v=o("".concat(n,".customTable.addRow.addBtn.tooltip"),"")||"customTable.addRow.addBtn.tooltip",x=function(e){var n=Object.entries(t).filter((function(t){var n,a=Object(j.a)(t,2),c=a[0],r=a[1];return(null===r||void 0===r?void 0:r.requiredOnAdd)&&!(null===(n=e[c])||void 0===n?void 0:n.length)}));if(n.length>0){var a={};n.forEach((function(e){var t=Object(j.a)(e,1)[0];a=Object(E.a)(Object(E.a)({},a),{},Object(z.a)({},t,"mandatoryField"))})),f(Object(E.a)(Object(E.a)({},p),a))}else Object.entries(t).filter((function(e){var t=Object(j.a)(e,2),n=(t[0],t[1]);return null===n||void 0===n?void 0:n.requiredOnAdd})).every((function(e){var t=Object(j.a)(e,2),n=t[0];t[1];return""===p[n]}))&&(i(e),b({}),f({}))};return Object(a.jsxs)("tr",{className:"extra-row add-row",children:[Object.entries(t).map((function(e){var t,c=Object(j.a)(e,2),r=c[0],i=c[1];return Object(a.jsx)("td",{children:(null===i||void 0===i?void 0:i.requiredOnAdd)&&Object(a.jsx)("div",{className:i.class,children:Object(a.jsxs)($.a.Group,{className:"textbox",children:[Object(a.jsx)($.a.Control,{disabled:s,placeholder:o("".concat(n,".customTable.addRow.").concat(r,".placeholder"),O),onChange:function(e){return function(e,t){b(e?t?Object(E.a)(Object(E.a)({},d),{},Object(z.a)({},e,t)):function(){return d[e],Object(T.a)(d,[e].map(fe.a))}:{}),f(Object(E.a)(Object(E.a)({},p),{},Object(z.a)({},e,Se("".concat(n,".").concat(e),t))))}(r,e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&x(d)},isValid:(null===d||void 0===d||null===(t=d[r])||void 0===t?void 0:t.trim().length)>0&&!p[r],isInvalid:p[r],value:(null===d||void 0===d?void 0:d[r])||"",type:"text",size:"sm"}),Object(a.jsx)($.a.Control.Feedback,{type:"invalid",tooltip:!0,children:o("".concat(n,".customTable.addRow.validation.").concat(p[r]),o("customTable.addRow.validation.".concat(p[r])))})]})})},r)})),Object(a.jsx)("td",{children:!s&&Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(xe,{i18nTooltipKey:v,onClick:function(){return x(d)}})})})]},"0")},Be=function(e){var t=e.columns,n=e.domain,c=e.disabled,r=void 0!==c&&c,s=e.filterMap,i=e.onFilter,o=Object(S.a)().t,l=o("customTable.filterRow.text.placeholder"),u=o("".concat(n,".customTable.filterRow.clearBtn.tooltip"),"")||"customTable.filterRow.clearBtn.tooltip";return Object(a.jsxs)("tr",{className:"extra-row filter-row",children:[Object.entries(t).map((function(e){var t=Object(j.a)(e,2),c=t[0],u=t[1];return Object(a.jsx)("td",{children:(null===u||void 0===u?void 0:u.filterable)&&Object(a.jsx)("div",{className:u.class,children:Object(a.jsx)($.a.Control,{type:"text",disabled:r,onChange:function(e){return i(c,e.target.value)},placeholder:o("".concat(n,".customTable.filterRow.").concat(c,".placeholder"),l),value:(null===s||void 0===s?void 0:s[c])||"",size:"sm"})})},c)})),Object(a.jsx)("td",{children:!r&&Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(Ee,{i18nTooltipKey:u,onClick:function(){return i()}})})})]},"0")},De=function(e){var t=e.isEditing,n=e.onChange,c=e.value,r=e.disguise;return t?Object(a.jsx)($.a.Check,{className:"check-input",type:"checkbox",onChange:function(e){return n(e.currentTarget.checked)},defaultChecked:c||!1}):r||Object(a.jsx)($.a.Check,{disabled:!0,className:"check-input",type:"checkbox",checked:c||!1})},Re=function(e){var t=e.isEditing,n=e.onChange,c=e.value;return t?Object(a.jsx)($.a.Control,{onChange:function(e){return n(e.target.value)},defaultValue:c||"",type:"text",size:"sm"}):c||""},Ae=function(e){var t=e.isEditing,n=e.onChange,a=e.type,c=e.value,s=e.disguise;return r.a.createElement(function(e){switch(e){case"boolean":return De;case"text":default:return Re}}(a),{isEditing:t,onChange:n,value:c,disguise:s})},_e=(n(100),function(e){var t=e.actions,n=void 0===t?{filter:{}}:t,r=e.columns,s=void 0===r?{}:r,i=e.data,o=void 0===i?[]:i,l=e.domain,u=e.pageSize,d=void 0===u?10:u,h=Object(c.useState)(!1),p=Object(j.a)(h,2),f=p[0],O=p[1],v=Object(c.useState)(!1),x=Object(j.a)(v,2),g=x[0],y=x[1],C=Object(c.useState)(!1),k=Object(j.a)(C,2),N=k[0],w=k[1],S=Object(c.useState)({}),F=Object(j.a)(S,2),B=F[0],D=F[1],R=Object(c.useState)([]),A=Object(j.a)(R,2),_=A[0],P=A[1],I=Object(c.useState)({}),U=Object(j.a)(I,2),L=U[0],M=U[1],G=Object(c.useState)(1),q=Object(j.a)(G,2),$=q[0],K=q[1];Object(c.useEffect)((function(){if(o.length){P(o.filter((function(e){return Object.entries(L).some((function(t){return!function(e,t){var n,a,c,r=Object(j.a)(t,2),i=r[0],o=r[1];switch(null===s||void 0===s||null===(n=s[i])||void 0===n?void 0:n.type){case"boolean":return a=e[i],!(c=o)||"y"===c&&a||"n"===c&&!a;case"text":default:return function(e,t){return!t||e.toLowerCase().includes(t.toLowerCase())}(e[i],o)}}(e,t)}))})).map((function(e){return e.id})))}}),[s,o,L]),Object(c.useEffect)((function(){var e=Math.ceil((o.length-_.length)/d)||1;$>e&&K(e)}),[_,$,o,d]);var V=function(e){if(Object.keys(B).includes(e.toString())){B[e];var t=Object(T.a)(B,[e].map(fe.a));D(t)}else D(Object(E.a)(Object(E.a)({},B),{},Object(z.a)({},e,{})))},H=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c,r,s,i,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=n.edit)||void 0===a?void 0:a.disabled)||!(null===(c=n.edit)||void 0===c?void 0:c.callbackFn)){e.next=12;break}if(s=B[t],!(i=Object.entries(s)).length||!i.some((function(e){var n=Object(j.a)(e,2),a=n[0];return n[1].trim()!==o.find((function(e){return e.id===t}))[a]}))){e.next=9;break}return e.next=6,null===(r=n.edit)||void 0===r?void 0:r.callbackFn(t,s);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=!0;case 10:(l=e.t0)?(B[t],u=Object(T.a)(B,[t].map(fe.a)),D(u),l&&console.log("Edit successful")):console.log("Edit failed");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){N&&D({}),w(!N)},Y=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a,c,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=n.batchEdit)||void 0===t?void 0:t.disabled)||!(null===(a=n.batchEdit)||void 0===a?void 0:a.callbackFn)){e.next=11;break}if(!(r=Object.entries(B)).length||!r.some((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object.entries(a).some((function(e){var t=Object(j.a)(e,2),a=t[0];return t[1].trim()!==o.find((function(e){return e.id===Number(n)}))[a]}))}))){e.next=8;break}return e.next=5,null===(c=n.batchEdit)||void 0===c?void 0:c.callbackFn(r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=!0;case 9:(s=e.t0)?(D({}),w(!1),s&&console.log("Batch edit successful")):console.log("Batch edit failed");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=n.add)||void 0===a?void 0:a.disabled)||!n.add.callbackFn){e.next=5;break}return e.next=3,n.add.callbackFn(t);case 3:e.sent?console.log("Add successful"):console.log("Add failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=n.delete)||void 0===a?void 0:a.disabled)||!n.delete.callbackFn){e.next=5;break}return e.next=3,n.delete.callbackFn(t);case 3:e.sent?console.log("Delete successful"):console.log("Delete failed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){return M(e?t?Object(E.a)(Object(E.a)({},L),{},Object(z.a)({},e,t)):function(){L[e];return Object(T.a)(L,[e].map(fe.a))}:{})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(se.a,{className:"customTable",striped:!0,size:"sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object.entries(s).map((function(e){var t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.jsx)("th",{width:c.width,children:Object(a.jsx)("div",{className:c.class,children:c.header})},n)})),!!Object.keys(n).some((function(e){var t;return!(null===(t=n[e])||void 0===t?void 0:t.disabled)}))&&Object(a.jsx)("th",{width:"120px",children:Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(Te,{actions:n,activeFilterCount:Object.keys(L).length,domain:l,isAdding:f,onClickAddBtn:function(){!f&&g&&y(!1),O(!f)},isFiltering:g,onClickFilterBtn:function(){return!g&&f&&O(!1),g&&Z(),void y(!g)},isBatchEditing:N,onClickEditBtn:function(){return J()},onClickConfirmEditBtn:function(){return Y()},onClickCancelEditBtn:function(){return J()}})})})]})}),Object(a.jsxs)("tbody",{children:[f&&Object(a.jsx)(Fe,{columns:s,domain:l,disabled:N,onAdd:function(e){return W(e)}}),g&&Object(a.jsx)(Be,{columns:s,domain:l,disabled:N,filterMap:L,onFilter:function(e,t){return Z(e,t)}}),o.filter((function(e){return!_.includes(e.id)})).sort((function(e,t){return e.id-t.id})).slice(($-1)*d,$*d<o.length-_.length?$*d:o.length-_.length).map((function(e){var t,c=Object.keys(B).includes(null===(t=e.id)||void 0===t?void 0:t.toString());return Object(a.jsxs)("tr",{children:[Object.entries(s).map((function(t){var n,r=Object(j.a)(t,2),s=r[0],i=r[1];return Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:null===i||void 0===i?void 0:i.class,children:Object(a.jsx)(Ae,{isEditing:(N||c)&&!1!==(null===i||void 0===i?void 0:i.editable),onChange:function(t){return function(e,t,n){return D(Object(E.a)(Object(E.a)({},B),{},Object(z.a)({},e,Object(E.a)(Object(E.a)({},B[e]),{},Object(z.a)({},t,n)))))}(e.id,s,t)},type:null===i||void 0===i?void 0:i.type,value:e[s],disguise:null===i||void 0===i||null===(n=i.disguise)||void 0===n?void 0:n[e[s]]})})},s)})),!!Object.keys(n).some((function(e){var t;return!(null===(t=n[e])||void 0===t?void 0:t.disabled)}))&&Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"actions spaced",children:Object(a.jsx)(we,{actions:n,dataId:e.id,isBatchEditing:N,isEditingRow:c,onClickEditBtn:function(e){return V(e)},onClickConfirmEditBtn:function(e){return H(e)},onClickCancelEditBtn:function(e){return V(e)},onClickDeleteBtn:function(e){return Q(e)}})})})]},e.id)}))]})]}),Object(a.jsx)(ae,{numPages:Math.ceil((o.length-_.length)/d)||1,activePage:$,onSearch:function(e){return K(e)}})]})}),Pe=function(e){var t=e.icon,n=e.tooltip,c=void 0===n?"":n,r=Object(Oe.a)();return Object(a.jsxs)("span",{"data-for":r,"data-tip":c,children:[Object(a.jsx)(L.a,{className:"icon",icon:t}),Object(a.jsx)(A.a,{id:r})]})},Ie=function(e){var t=e.canAddDept,n=e.canEditDept,r=e.canDeleteDept,s=Object(S.a)().t,i=Object(c.useState)([]),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(c.useContext)(y).department,h=Object(c.useCallback)(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:if(!(t=e.sent).ok){e.next=9;break}return e.t0=u,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),[]),p=Object(c.useCallback)(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(null===(n=t.acronym)||void 0===n?void 0:n.trim(),null===(a=t.name)||void 0===a?void 0:a.trim());case 2:if(!(c=e.sent).ok){e.next=6;break}return e.next=6,h();case 6:return e.abrupt("return",c.ok);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),f=Object(c.useCallback)(function(){var e=Object(m.a)(b.a.mark((function e(t,n){var a,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t,null===(a=n.acronym)||void 0===a?void 0:a.trim(),null===(c=n.name)||void 0===c?void 0:c.trim());case 2:if(!(r=e.sent).ok){e.next=6;break}return e.next=6,h();case 6:return e.abrupt("return",r.ok);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[h]),O=Object(c.useCallback)(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t.map((function(e){var t,n,a=Object(j.a)(e,2),c=a[0],r=a[1];return{id:c,acronym:null===(t=r.acronym)||void 0===t?void 0:t.trim(),name:null===(n=r.name)||void 0===n?void 0:n.trim()}})));case 2:if(!(n=e.sent).ok){e.next=6;break}return e.next=6,h();case 6:return e.abrupt("return",n.ok);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),v=Object(c.useCallback)(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:if(!(n=e.sent).ok){e.next=6;break}return e.next=6,h();case 6:return e.abrupt("return",n.ok);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]);Object(c.useEffect)((function(){return h()}),[h]);var x={add:{disabled:!t,callbackFn:p},batchEdit:{disabled:!n,icon:M.j,callbackFn:O},edit:{disabled:!n,callbackFn:f},delete:{disabled:!r,callbackFn:v}},g={isCurrentDept:{class:"text-align-end",editable:!1,type:"boolean",width:"32px",disguise:{true:Object(a.jsx)(Pe,{icon:M.f,tooltip:s("departments.table.data.isCurrentDept.y")}),false:Object(a.jsx)(a.Fragment,{})}},acronym:{class:"center",header:s("departments.table.headers.acronym"),filterable:!0,requiredOnAdd:!0,type:"text",width:"100px"},name:{header:s("departments.table.headers.name"),filterable:!0,requiredOnAdd:!0,type:"text"}},C=l.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isCurrentDept:e.id===d.id})}));return Object(a.jsx)(_e,{actions:x,columns:g,data:C,domain:"departments"})};n(101);function Ue(){var e=Object(S.a)().t;return Object(a.jsxs)("div",{className:"header-n-table-div",children:[Object(a.jsx)("h1",{children:e("departments.page.header")}),Object(a.jsx)(Ie,{canAddDept:!0,canEditDept:!0,canDeleteDept:!1})]})}var Le=Object(c.createContext)(),Me=function(e){var t=e.children,n=Object(c.useContext)(y).department,r=Object(c.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users",{method:"GET"});case 2:if((t=e.sent).ok){e.next=5;break}throw Error();case 5:return e.t0=o,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return l()}),[n]);var u=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/invite",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email=".concat(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw Error(n.statusText);case 5:return e.next=7,n.json();case 7:a=e.sent,o([].concat(Object(q.a)(i),[a]));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/".concat(t),{method:"DELETE"});case 2:if((n=e.sent).ok){e.next=5;break}throw Error(n.statusText);case 5:o(Object(q.a)(i.filter((function(e){return e.id!==t}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(Le.Provider,{value:{users:i,addNewUser:u,loadUsers:l,removeUser:d},children:t})},Ge=function(e){var t=e.disabled,n=(e.hideRow,Object(S.a)().t),r=Object(c.useContext)(Le).addNewUser,s=Object(c.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)(),d=Object(j.a)(u,2),b=d[0],m=d[1];Object(c.useEffect)((function(){return m(Se("email",o.trim().toLowerCase()))}),[o]);var h=function(e){return!b&&r(e.trim().toLowerCase())&&l("")};return Object(a.jsxs)("tr",{className:"invite-user-row",children:[Object(a.jsx)("td",{}),Object(a.jsx)("td",{colSpan:8,children:Object(a.jsxs)($.a.Group,{className:"email-textbox",children:[Object(a.jsx)($.a.Control,{disabled:t,placeholder:n("user.management.invite.placeholder"),onChange:function(e){return l(e.target.value.replace(/\s+/g,""))},onKeyPress:function(e){return"Enter"===e.code?h(o):null},isValid:o.length>0&&!b,isInvalid:o.length>0&&b,value:o,type:"email",size:"sm"}),Object(a.jsx)($.a.Control.Feedback,{type:"valid"}),Object(a.jsx)($.a.Control.Feedback,{type:"invalid",children:n("user.management.invite.validation.".concat(b))})]})}),Object(a.jsx)("td",{children:t?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"actions center",children:Object(a.jsxs)("span",{"data-for":"sendUserInviteButtonTooltip","data-tip":n("user.management.invite.button"),onClick:function(){return h(o)},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.r}),Object(a.jsx)(A.a,{id:"sendUserInviteButtonTooltip"})]})})})]},"0")},qe=function(e){var t=e.disabled,n=e.filterType,c=e.value,r=e.onCheck,s=e.labelYes,i=e.labelNo,o=Object(S.a)().t,l=function(e){var s=e.label,i=e.checkBoolType;return Object(a.jsx)($.a.Check,{custom:!0,type:"checkbox",id:"".concat(n,"-").concat(i),label:s||o("user.table.filters.boolean.".concat(i)),disabled:t||c&&c!==i,onChange:function(e){return r(n,e.currentTarget.checked?i:"")},checked:c===i})};return Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("div",{className:"boolean-filter",children:[Object(a.jsx)(l,{checkBoolType:"y",label:s}),Object(a.jsx)(l,{checkBoolType:"n",label:i})]})})},ze=function(e){var t=e.disabled,n=e.filterType,c=e.value,r=e.onChange,s=Object(S.a)().t;return Object(a.jsx)("div",{className:"top-margin",children:Object(a.jsx)($.a.Control,{type:"text",disabled:t,onChange:function(e){return r(n,e.target.value)},placeholder:s("user.table.filters.text.".concat(n)),value:c,size:"sm"})})},$e=function(e){var t=e.disabled,n=e.filterMap,c=e.filterUsers,r=e.permissions,s=Object(S.a)().t;return Object(a.jsxs)("tr",{className:"filter-row",children:[Object(a.jsx)("td",{children:Object(a.jsx)(qe,{disabled:t,filterType:"status",value:n.status,onCheck:function(e,t){return c(e,t)},labelYes:s("user.table.filters.status.y"),labelNo:s("user.table.filters.status.n")})}),Object(a.jsx)("td",{children:Object(a.jsx)(ze,{disabled:t,filterType:"email",value:n.email,onChange:function(e,t){return c(e,t)}})}),Object(a.jsx)("td",{children:Object(a.jsx)(ze,{disabled:t,filterType:"username",value:n.username,onChange:function(e,t){return c(e,t)}})}),r.map((function(e){return Object(a.jsx)("td",{children:Object(a.jsx)(qe,{disabled:t,filterType:e,value:n[e],onCheck:function(e,t){return c(e,t)}})},"".concat(e.toLowerCase(),"-filter"))})),Object(a.jsx)("td",{children:t?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"actions spaced top-margin",children:Object(a.jsxs)("span",{"data-for":"clearFilterTooltip","data-tip":s("user.table.filters.buttons.clear"),onClick:function(){return c()},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.y}),Object(a.jsx)(A.a,{id:"clearFilterTooltip"})]})})})]},"0")},Ke=(n(102),function(e){var t=e.permissions,n=e.canInviteUsers,r=e.canEditPermissions,s=e.disableDelete,i=void 0!==s&&s,o=Object(S.a)().t,l=Object(c.useContext)(y),u=l.department,d=l.user,h=l.setLoggedUserInfo,p=Object(c.useContext)(Le),f=p.users,v=p.removeUser,x=Object(c.useState)([]),g=Object(j.a)(x,2),C=g[0],k=g[1],N=Object(c.useState)(!1),w=Object(j.a)(N,2),F=w[0],B=w[1],D=Object(c.useState)(!1),R=Object(j.a)(D,2),_=R[0],P=R[1],I=Object(c.useState)(!1),U=Object(j.a)(I,2),G=U[0],K=U[1],V=Object(c.useState)([]),H=Object(j.a)(V,2),J=H[0],Y=H[1],W=Object(c.useState)({}),Q=Object(j.a)(W,2),Z=Q[0],X=Q[1],ee=Object(c.useState)(10),te=Object(j.a)(ee,1)[0],ne=Object(c.useState)(1),ce=Object(j.a)(ne,2),re=ce[0],ie=ce[1];Object(c.useEffect)((function(){return Y([])}),[u]),Object(c.useEffect)((function(){if(f.length&&t.length){var e=function(e,t){return!t||e.toLowerCase().includes(t)},n=(re-1)*te,a=re*te<f.length?re*te:f.length;Y(f.filter((function(n){return a=n.fullName.trim().length,(!(c=Z.status)||"y"===c&&a||"n"===c&&!a)&&e(n.fullName,Z.username)&&e(n.email,Z.email)&&t.every((function(e){return t=e,a=n.permissions,!Z[t]||"y"===Z[t]&&a&&a.includes(t)||"n"===Z[t]&&(!a||!a.includes(t));var t,a}));var a,c})).sort((function(e,t){return e.email.localeCompare(t.email)})).slice(n,a))}}),[f,Z,t,re,te]);var oe=function(e,t){return X(e?t?Object(E.a)(Object(E.a)({},Z),{},Object(z.a)({},e,t)):function(){Z[e];return Object(T.a)(Z,[e].map(fe.a))}:{})},le=function(){B(!F),k([])},ue=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/users/".concat(t,"/permission"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.map((function(e){return e.toUpperCase()})))});case 2:if(e.sent.ok){e.next=5;break}throw Error();case 5:k(C.filter((function(e){return e!==t}))),t===(null===d||void 0===d?void 0:d.id)&&h();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.map((function(e){return n[e.id]=e.permissions})),e.next=4,O("/users/permission",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(e.sent.ok){e.next=7;break}throw Error();case 7:B(!1),t.some((function(e){return e.id===(null===d||void 0===d?void 0:d.id)}))&&h();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"users-table-box",children:[Object(a.jsxs)(se.a,{id:"usersTable",striped:!0,size:"sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{width:"104px",children:Object(a.jsx)("div",{className:"center",children:o("user.table.headers.status")})}),Object(a.jsx)("th",{width:"240px",children:Object(a.jsx)("div",{children:o("user.table.headers.email")})}),Object(a.jsx)("th",{width:"280px",children:Object(a.jsx)("div",{children:o("user.table.headers.username")})}),t.map((function(e){return Object(a.jsx)("th",{children:Object(a.jsx)("div",{className:"center text-bottom",children:o("user.table.headers.permission.".concat(e.toLowerCase()))})},"".concat(e))})),Object(a.jsx)("th",{width:"120px",children:Object(a.jsx)("div",{className:"actions spaced",children:F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{"data-for":"saveBatchEditTooltip","data-tip":o("user.table.headers.buttons.permissions.batch_edit.confirm"),onClick:function(){return de(J)},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.e}),Object(a.jsx)(A.a,{id:"saveBatchEditTooltip"})]}),Object(a.jsxs)("span",{"data-for":"cancelBatchEditTooltip","data-tip":o("user.table.headers.buttons.permissions.batch_edit.cancel"),onClick:function(){return le()},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.c}),Object(a.jsx)(A.a,{id:"cancelBatchEditTooltip"})]})]}):Object(a.jsxs)(a.Fragment,{children:[n?Object(a.jsxs)("span",{className:"icon ".concat(G?"active":""),"data-for":"inviteUserTooltip","data-tip":o("user.table.headers.buttons.invite"),onClick:function(){_&&P(!1),K(!G)},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.B}),Object(a.jsx)(A.a,{id:"inviteUserTooltip"})]}):Object(a.jsx)(a.Fragment,{}),r?Object(a.jsxs)("span",{"data-for":"batchEditUserPermissionsTooltip","data-tip":o("user.table.headers.buttons.permissions.batch_edit"),onClick:function(){return le()},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.j}),Object(a.jsx)(A.a,{id:"batchEditUserPermissionsTooltip"})]}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("span",{className:"icon ".concat(_?"active":""),"data-for":"filterTableTooltip","data-tip":o("user.table.headers.buttons.filter"),onClick:function(){G&&K(!1),_&&oe(),P(!_)},children:[Object(a.jsx)(A.a,{id:"filterTableTooltip"}),Object(a.jsx)(L.a,{className:"icon",icon:M.n}),Object(a.jsx)("span",{className:"activeFilterCount",children:Object.keys(Z).length?"(".concat(Object.keys(Z).length,")"):""})]})]})})})]})}),Object(a.jsxs)("tbody",{children:[_?Object(a.jsx)($e,{filterMap:Z,filterUsers:oe,permissions:t,disabled:F||C.length}):"",G?Object(a.jsx)(Ge,{disabled:F||C.length}):"",J.map((function(e){var n=!F&&!C.includes(e.id);return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("span",{"data-for":"user".concat(e.id,"StatusTooltip"),"data-tip":e.fullName.trim().length?o("user.table.data.status.y"):o("user.table.data.status.n"),children:[e.fullName.trim().length?Object(a.jsx)(L.a,{className:"icon",icon:M.d}):Object(a.jsx)(L.a,{className:"icon",icon:M.u}),Object(a.jsx)(A.a,{id:"user".concat(e.id,"StatusTooltip")})]})})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{children:e.email})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{children:e.fullName})}),t.map((function(t){return Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"center",children:Object(a.jsx)($.a.Check,{className:"check-input",type:"checkbox",id:"".concat(t,"-").concat(e.id),disabled:n,onChange:function(n){return function(e,t,n){var a=e.permissions||[];e.permissions=n?[].concat(Object(q.a)(a),[t]):a.filter((function(e){return e!==t}))}(e,t,n.currentTarget.checked)},defaultChecked:(null===e||void 0===e?void 0:e.permissions)&&e.permissions.includes(t)})})},"".concat(t,"-").concat(e.id))})),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"actions spaced",children:F?Object(a.jsx)(a.Fragment,{}):n?Object(a.jsxs)(a.Fragment,{children:[r?Object(a.jsxs)("span",{"data-for":"editUser".concat(e.id,"PermissionButtonTooltip"),"data-tip":o("user.table.data.buttons.permissions.edit"),onClick:function(){return t=e.id,k([].concat(Object(q.a)(C),[t]));var t},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.s}),Object(a.jsx)(A.a,{id:"editUser".concat(e.id,"PermissionButtonTooltip")})]}):Object(a.jsx)(a.Fragment,{}),!i&&Object(a.jsxs)("span",{"data-for":"deleteUser".concat(e.id,"ButtonTooltip"),"data-tip":o("user.table.data.buttons.user.delete"),onClick:function(){return function(e){v(e.id)}(e)},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.z}),Object(a.jsx)(A.a,{id:"deleteUser".concat(e.id,"ButtonTooltip")})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{"data-for":"saveUser".concat(e.id,"PermissionsEditTooltip"),"data-tip":o("user.table.data.buttons.permissions.edit.confirm"),onClick:function(){return ue(e.id,e.permissions)},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.e}),Object(a.jsx)(A.a,{id:"saveUser".concat(e.id,"PermissionsEditTooltip")})]}),Object(a.jsxs)("span",{"data-for":"cancelUser".concat(e.id,"PermissionsEditTooltip"),"data-tip":o("user.table.data.buttons.permissions.edit.cancel"),onClick:function(){return t=e.id,k(C.filter((function(e){return e!==t})));var t},children:[Object(a.jsx)(L.a,{className:"icon",icon:M.c}),Object(a.jsx)(A.a,{id:"cancelUser".concat(e.id,"PermissionsEditTooltip")})]})]})})})]},e.id)}))]})]}),Object(a.jsx)("br",{}),Object(a.jsx)(ae,{numPages:Math.ceil(f.length/te),activePage:re,onSearch:function(e){return ie(e)}})]})});n(103);function Ve(e){var t=e.permissionType,n=Object(S.a)().t,r=Object(c.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(c.useContext)(y).checkPermission,u=Object(c.useCallback)(Object(m.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/permissions/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.t0=o,e.next=7,n.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),[t]);return Object(c.useEffect)((function(){return u()}),[u]),Object(a.jsx)(Me,{children:Object(a.jsxs)("div",{className:"manage-users",children:[Object(a.jsx)("h1",{children:n("user.management.title")}),Object(a.jsx)(Ke,{canInviteUsers:"department"===t&&l("INVITE_USERS"),canEditPermissions:"department"===t?l("MANAGE_DEPT_PERM"):"system"===t&&l("MANAGE_SYSTEM_PERM"),permissions:i,disableDelete:!0})]})})}var He=n(70),Je=(n(104),function(){var e,t=Object(S.a)().t,n=Object(N.g)().docId,r=Object(c.useContext)(y),s=r.user,i=r.department,o=r.checkPermission,l=Object(c.useState)(null),u=Object(j.a)(l,2),d=u[0],b=u[1],m=Object(c.useState)({}),h=Object(j.a)(m,2),p=h[0],f=h[1],v=Object(c.useMemo)((function(){return{title:"",summary:"",category:0,date:(new Date).toISOString().split("T")[0],file:void 0}}),[]),x=Object(c.useState)(v),g=Object(j.a)(x,2),C=g[0],k=g[1];Object(c.useEffect)((function(){d&&b(null)}),[d]),Object(c.useEffect)((function(){return k((function(e){return Object(E.a)(Object(E.a)({},e),{},{category:0})}))}),[i]),Object(c.useEffect)((function(){n&&n!==C.id?O("/documents/".concat(n),{method:"GET"}).then((function(e){if(e.ok)return e.json();b("/404")})).then((function(e){e&&k(Object(E.a)(Object(E.a)({},e),{},{file:{name:e.fileName,size:-1}}))})):!n&&C.id?(k(v),f({})):C.tenant&&C.tenant!==i.acronym.toLowerCase()&&b("/documents")}),[n,C.id,C.tenant,i,v]);var w=function(e,t){f(Object(E.a)(Object(E.a)({},p),{},Object(z.a)({},e,Se(e,t)))),k(Object(E.a)(Object(E.a)({},C),{},Object(z.a)({},e,t)))},F=function(e){var t=C,n=p,a=e.target.name,c=e.target.value;if("uploadFile"===a){var r=e.target.files;if(!r.length)return;if(a="file",c=r[0],!C.title){var s=r[0].name.replace(/\.\w+?$/g,"");t=Object(E.a)(Object(E.a)({},t),{},{title:s}),n=Object(E.a)(Object(E.a)({},n),{},{title:Se("title",s)})}}f(Object(E.a)(Object(E.a)({},n),{},Object(z.a)({},a,Se(a,c)))),k(Object(E.a)(Object(E.a)({},t),{},Object(z.a)({},a,c)))},B=function(){var e=C.file,t=Object(T.a)(C,["file"]);t=Object(E.a)(Object(E.a)({},t),{},{tenant:i.acronym.toLowerCase(),registeredBy:s.id,registeredAt:(new Date).toISOString()}),C.id&&C.file.name===C.fileName&&-1===C.file.size&&(e=void 0),D(t,e,!!C.id)},D=function(e,t,a){var c=new FormData;c.append("file",t),c.append("document",new Blob([JSON.stringify(e)],{type:"application/json"})),O("/documents".concat(a?"/".concat(n):""),{method:a?"PATCH":"POST",headers:{Accept:"application/json"},body:c}).then((function(e){if(e.ok)return e.json()})).then((function(e){e&&b("/documents/".concat(e.id))}))};return d?Object(a.jsx)(N.a,{to:d}):!n&&!o("ADD_DOCS")||n&&C.registeredBy!==s.id&&!o("EDIT_DOCS_OTHERS")?Object(a.jsx)("div",{children:"Unauthorized page here"}):Object(a.jsx)("div",{className:"document-details-page",children:Object(a.jsxs)($.a,{className:"document-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){var n={};return Object.entries(e).forEach((function(e){var t=Object(j.a)(e,2),a=t[0],c=t[1];return n[a]=Se(a,c)})),t&&t(n),Object.values(n).every((function(e){return!e}))}(C,f)&&B()},children:[Object(a.jsx)("h1",{children:t("document.form.".concat(n?"edit":"add",".title"))}),Object(a.jsx)($.a.Row,{children:Object(a.jsxs)($.a.Group,{as:He.a,controlId:"docForm.fileName",children:[Object(a.jsx)($.a.Label,{children:t("document.form.file")}),Object(a.jsxs)($.a.File,{id:"doc",custom:!0,children:[Object(a.jsx)($.a.File.Input,{name:"uploadFile",required:!0,onChange:F,isInvalid:p.file}),Object(a.jsx)($.a.File.Label,{"data-browse":t("document.form.file.choose"),children:(null===(e=C.file)||void 0===e?void 0:e.name)||t("document.form.file.placeholder")}),Object(a.jsx)($.a.Control.Feedback,{type:"invalid",children:t("document.form.validation.".concat(p.file))})]})]})}),Object(a.jsxs)($.a.Row,{children:[Object(a.jsxs)($.a.Group,{as:He.a,controlId:"docForm.title",children:[Object(a.jsx)($.a.Label,{children:t("document.title")}),Object(a.jsx)($.a.Control,{type:"text",name:"title",required:!0,onChange:F,isInvalid:p.title,value:C.title}),Object(a.jsx)($.a.Control.Feedback,{type:"invalid",children:t("document.form.validation.".concat(p.title))})]}),Object(a.jsxs)($.a.Group,{as:He.a,xs:2,controlId:"docForm.status",style:{display:C.id?"block":"none"},children:[Object(a.jsx)($.a.Label,{children:t("document.status")}),Object(a.jsx)($.a.Text,{as:"p",children:re(C.status)})]})]}),Object(a.jsx)($.a.Row,{children:Object(a.jsxs)($.a.Group,{as:He.a,controlId:"docForm.summary",children:[Object(a.jsx)($.a.Label,{children:t("document.summary")}),Object(a.jsx)($.a.Control,{as:"textarea",name:"summary",rows:5,onChange:F,value:C.summary}),Object(a.jsx)($.a.Text,{className:"text-muted",children:t("document.form.summary.mutedText")})]})}),Object(a.jsxs)($.a.Row,{children:[Object(a.jsxs)($.a.Group,{as:He.a,controlId:"docForm.category",children:[Object(a.jsx)($.a.Label,{children:t("document.category")}),Object(a.jsx)(Y,{onChange:w,isInvalid:p.category,validationMessage:t("document.form.validation.".concat(p.category)),value:C.category})]}),Object(a.jsxs)($.a.Group,{as:He.a,controlId:"docForm.date",children:[Object(a.jsx)($.a.Label,{children:t("document.date")}),Object(a.jsx)(H,{name:"date",onChange:w,value:C.date})]})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(K.a,{variant:"danger",onClick:function(){O("/documents/".concat(n),{method:"DELETE"}).then((function(e){e.ok&&(window.alert("Document '".concat(n,"' deleted")),b("/documents"))}))},style:{display:n?"block":"none"},children:t("document.form.deleteButton")}),Object(a.jsx)(K.a,{className:"border-color-blue bg-color-blue",variant:"primary",type:"submit",children:t("document.form.".concat(n?"updateButton":"submitButton"))})]})]})})});function Ye(){var e=Object(N.h)();return Object(a.jsxs)(N.d,{children:[Object(a.jsx)(N.b,{path:"".concat(e.path,"/:docId"),component:Je}),Object(a.jsx)(N.b,{path:e.path,component:Je})]})}function We(){return Object(a.jsxs)("div",{className:"home-container",children:[Object(a.jsx)(G,{}),Object(a.jsxs)(N.d,{children:[Object(a.jsx)(N.b,{exact:!0,path:"/",children:Object(a.jsx)(le,{})}),Object(a.jsx)(N.b,{path:"/documents",children:Object(a.jsx)(Ye,{})}),Object(a.jsx)(N.b,{path:"/categories",children:Object(a.jsx)(de,{})}),Object(a.jsx)(N.b,{path:"/departments",children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(N.b,{path:"/users/department",children:Object(a.jsx)(Ve,{permissionType:"department"})}),Object(a.jsx)(N.b,{path:"/users/system",children:Object(a.jsx)(Ve,{permissionType:"system"})}),Object(a.jsx)(N.b,{path:"*",children:Object(a.jsx)(ue,{})})]})]})}n(105);function Qe(){return Object(a.jsx)(g,{children:Object(a.jsx)(C,{children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(N.b,{path:"/login",component:R}),Object(a.jsx)(w,{path:"*",component:We})]})})})}n(106);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Qe,{})}),document.getElementById("root"))},60:function(e,t,n){},92:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.0e430ee4.chunk.js.map